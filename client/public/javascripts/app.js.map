{"version":3,"sources":["app/application.coffee","app/initialize.coffee","app/lib/app_helpers.coffee","app/lib/base_view.coffee","app/lib/client.coffee","app/lib/utils.coffee","app/lib/view_collection.coffee","app/router.coffee","app/views/app_view.coffee","app/views/logout_view.coffee","app/views/page_view.coffee","app/views/templates/home.jade","app/views/templates/logout.jade","app/views/templates/page.jade"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAM,CAAC,OAAP,GAEI;AAAA,cAAY;AAKR;AAAA,aAAS,QAAQ,QAAR,CAAT;AAAA,IACA,IAAC,OAAD,GAAc,YADd;AAAA,IAEA,QAAQ,CAAC,OAAO,CAAC,KAAjB,EAFA;AAKA,QAAsB,aAAa,CAAC,MAAd,KAAwB,UAA9C;aAAA,MAAM,CAAC,MAAP,CAAc,IAAd;KAVQ;EAAA,CAAZ;CAFJ;;;;ACAA;;AAAA,MAAM,QAAQ,aAAR,CAAN;;AAAA,CAGA,CAAE;AACE,UAAQ,iBAAR;SAEA,GAAG,CAAC,UAAJ,GAHF;AAAA,CAAF,CAHA;;;;ACAA,CAAC;SAEG,CAAC;AAEG;AAAA,cAAU,MAAM,CAAC,OAAP,GAAiB,MAAM,CAAC,OAAP,IAAkB,EAA7C;AAAA,IACA,SAAS,MADT;AAAA,IAEA,QAAQ,aAFR;AAAA,IAGA,UAAW,gJAE4C,CAAC,KAF9C,CAEoD,GAFpD,CAHV;AAO2C;WAAM,SAAS,OAAO,CAAC,GAAR,EAAf;AAA3C,2BAAQ,QAAR,GAAkB,OAAQ,QAAR,IAAmB,MAArC,CAA2C;IAAA;oBAT9C;EAAA,CAAD,IAFH;AAAA,CAAD;;;;ACAA;EAAA;iSAAA;;AAAA,MAAM,CAAC,OAAP,GAAuB;AAEnB;;;;GAAA;;AAAA,gCAAU,aAAV;;AAAA,qBAEA,aAAY,aAFZ;;AAAA,qBAIA,gBAAe;AACX;WAAA;AAAA,+CAAa,CAAE,MAAR,WAAP;MADW;EAAA,CAJf;;AAAA,qBAOA,SAAQ;AACJ,QAAC,aAAD;AAAA,IACA,IAAC,IAAG,CAAC,IAAL,CAAU,IAAC,SAAD,CAAU,IAAC,cAAD,EAAV,CAAV,CADA;AAAA,IAEA,IAAC,YAAD,EAFA;WAGA,KAJI;EAAA,CAPR;;AAAA,qBAaA,eAAc,aAbd;;AAAA,qBAeA,cAAa,aAfb;;AAAA,qBAiBA,UAAS;AACL,QAAC,iBAAD;AAAA,IACA,IAAC,IAAG,CAAC,UAAL,EAAiB,CAAC,MAAlB,EADA;AAAA,IAEA,IAAC,OAAD,EAFA;WAGA,QAAQ,CAAC,IAAI,UAAE,OAAM,CAAC,IAAtB,CAA2B,IAA3B,EAJK;EAAA,CAjBT;;kBAAA;;GAFoC,QAAQ,CAAC,KAAjD;;;;ACEA,OAAO,CAAC,OAAR,GAAkB,SAAC,IAAD,EAAO,GAAP,EAAY,IAAZ,EAAkB,SAAlB;AAEd;AAAA,YAAU,SAAS,CAAC,OAAV,IAAqB,SAAC,GAAD;WAAS,UAAU,IAAV,EAAgB,GAAhB,EAAT;EAAA,CAA/B;AAAA,EACA,QAAQ,SAAS,CAAC,KAAV,IAAmB,SAAC,GAAD;WAAS,UAAU,GAAV,EAAT;EAAA,CAD3B;SAIA,CAAC,CAAC,IAAF,CACI;AAAA,UAAM,IAAN;AAAA,IACA,KAAK,GADL;AAAA,IAEA,MAAM,IAFN;AAAA,IAGA,SAAS,OAHT;AAAA,IAIA,OAAO,KAJP;GADJ,EANc;AAAA,CAAlB;;AAAA,OAeO,CAAC,GAAR,GAAc,SAAC,GAAD,EAAM,SAAN;SACV,OAAO,CAAC,OAAR,CAAgB,KAAhB,EAAuB,GAAvB,EAA4B,IAA5B,EAAkC,SAAlC,EADU;AAAA,CAfd;;AAAA,OAoBO,CAAC,IAAR,GAAe,SAAC,GAAD,EAAM,IAAN,EAAY,SAAZ;SACX,OAAO,CAAC,OAAR,CAAgB,MAAhB,EAAwB,GAAxB,EAA6B,IAA7B,EAAmC,SAAnC,EADW;AAAA,CApBf;;AAAA,OAyBO,CAAC,GAAR,GAAc,SAAC,GAAD,EAAM,IAAN,EAAY,SAAZ;SACV,OAAO,CAAC,OAAR,CAAgB,KAAhB,EAAuB,GAAvB,EAA4B,IAA5B,EAAkC,SAAlC,EADU;AAAA,CAzBd;;AAAA,OA8BO,CAAC,GAAR,GAAc,SAAC,GAAD,EAAM,SAAN;SACV,OAAO,CAAC,OAAR,CAAgB,QAAhB,EAA0B,GAA1B,EAA+B,IAA/B,EAAqC,SAArC,EADU;AAAA,CA9Bd;;;;ACFA;;AAAA,MAAM,CAAC,OAAP,GAAuB;qBACnB;;AAAA,OAAC,UAAD,GAAY,SAAC,WAAD,EAAc,WAAd,EAA2B,QAA3B;AACR,WAAO,CAAC,GAAR,CAAY,QAAQ,WAApB;AAAA,IACA,OAAO,CAAC,GAAR,CAAY,QAAQ,WAApB,CADA;WAEA,CAAC,CAAC,IAAF,CACI;AAAA,YAAM,MAAN;AAAA,MACA,OAAO,IADP;AAAA,MAEA,KAAK,gBAFL;AAAA,MAGA,MACI;AAAA,qBAAa,WAAb;AAAA,QACA,aAAa,WADb;OAJJ;AAAA,MAMA,UAAU,SAAC,GAAD;AACN,gBAAO,GAAG,CAAC,MAAX;AAAA,eACS,GADT;mBACkB,SAAS,IAAT,EADlB;AAAA,eAES,GAFT;mBAEkB,SAAS,IAAT,EAFlB;AAAA,eAGS,GAHT;mBAGkB,SAAS,sBAAT,EAHlB;AAAA;AAKQ,qBAAS,GAAG,CAAC,YAAb;mBACA,OAAO,CAAC,KAAR,CAAc,GAAG,CAAC,YAAlB,EANR;AAAA,SADM;MAAA,CANV;KADJ,EAHQ;EAAA,CAAZ;;AAAA,EAmBA,KAAC,kBAAD,GAAoB,SAAC,QAAD;WAGhB,CAAC,CAAC,IAAF,CACI;AAAA,YAAM,KAAN;AAAA,MACA,OAAO,IADP;AAAA,MAEA,KAAK,OAFL;AAAA,MAGA,UAAU,SAAC,GAAD;AACN,gBAAO,GAAG,CAAC,MAAX;AAAA,eACS,GADT;mBACkB,SAAS,IAAT,EAAe,IAAf,EADlB;AAAA,eAES,GAFT;mBAEkB,SAAS,IAAT,EAAe,KAAf,EAFlB;AAAA,eAGS,GAHT;mBAGkB,SAAS,sBAAT,EAHlB;AAAA;AAKQ,qBAAS,GAAG,CAAC,YAAb;mBACA,OAAO,CAAC,KAAR,CAAc,GAAG,CAAC,YAAlB,EANR;AAAA,SADM;MAAA,CAHV;KADJ,EAHgB;EAAA,CAnBpB;;AAAA,EAmCA,KAAC,aAAD,GAAe,SAAC,QAAD;WACX,CAAC,CAAC,IAAF,CACI;AAAA,YAAM,KAAN;AAAA,MACA,OAAO,IADP;AAAA,MAEA,KAAK,OAFL;AAAA,MAGA,UAAU,SAAC,GAAD;AACN,gBAAO,GAAG,CAAC,MAAX;AAAA,eACS,GADT;mBACkB,SAAS,IAAT,EAAe,IAAf,EADlB;AAAA,eAES,GAFT;mBAEkB,SAAS,IAAT,EAAe,KAAf,EAFlB;AAAA,eAGS,GAHT;mBAGkB,SAAS,sBAAT,EAHlB;AAAA;AAKQ,qBAAS,GAAG,CAAC,YAAb;mBACA,OAAO,CAAC,KAAR,CAAc,GAAG,CAAC,YAAlB,EANR;AAAA,SADM;MAAA,CAHV;KADJ,EADW;EAAA,CAnCf;;AAAA,EAiDA,KAAC,sBAAD,GAAwB,SAAC,QAAD;WACpB,CAAC,CAAC,IAAF,CACI;AAAA,YAAM,KAAN;AAAA,MACA,OAAO,IADP;AAAA,MAEA,KAAK,uBAFL;AAAA,MAGA,UAAU,SAAC,GAAD;AACN,gBAAO,GAAG,CAAC,MAAX;AAAA,eACS,GADT;mBACkB,SAAS,IAAT,EAAe,IAAf,EADlB;AAAA,eAES,GAFT;mBAEkB,SAAS,IAAT,EAAe,KAAf,EAFlB;AAAA,eAGS,GAHT;mBAGkB,SAAS,sBAAT,EAHlB;AAAA;AAKQ,qBAAS,GAAG,CAAC,YAAb;mBACA,OAAO,CAAC,KAAR,CAAc,GAAG,CAAC,YAAlB,EANR;AAAA,SADM;MAAA,CAHV;KADJ,EADoB;EAAA,CAjDxB;;AAAA,EA+DA,KAAC,oBAAD,GAAsB,SAAC,QAAD;WAClB,CAAC,CAAC,IAAF,CACI;AAAA,YAAM,KAAN;AAAA,MACA,UAAU,MADV;AAAA,MAEA,OAAO,IAFP;AAAA,MAGA,KAAK,eAHL;AAAA,MAIA,UAAU,SAAC,GAAD;AACN,gBAAO,GAAG,CAAC,MAAX;AAAA,eACS,GADT;mBACkB,SAAS,IAAT,EADlB;AAAA,eAES,GAFT;mBAEkB,SAAS,sBAAT,EAFlB;AAAA;AAIQ,qBAAS,GAAG,CAAC,YAAb;mBACA,OAAO,CAAC,KAAR,CAAc,GAAG,CAAC,YAAlB,EALR;AAAA,SADM;MAAA,CAJV;KADJ,EADkB;EAAA,CA/DtB;;AAAA,EA6EA,KAAC,4BAAD,GAA8B,SAAC,QAAD;WAC1B,CAAC,CAAC,IAAF,CACI;AAAA,YAAM,KAAN;AAAA,MACA,UAAU,MADV;AAAA,MAEA,OAAO,IAFP;AAAA,MAGA,KAAK,eAHL;AAAA,MAIA,UAAU,SAAC,GAAD;AACN,YAAG,GAAG,CAAC,MAAJ,KAAc,GAAd,IACA,GAAG,CAAC,MAAJ,KAAc,GADd,IAEA,GAAG,CAAC,MAAJ,KAAc,GAFjB;iBAGI,SAAS,IAAT,EAAe,GAAG,CAAC,YAAnB,EAHJ;SAAA,MAIK,IAAG,GAAG,CAAC,MAAJ,KAAc,GAAjB;iBACD,SAAS,sBAAT,EADC;SAAA;AAGD,mBAAS,GAAG,CAAC,YAAb;iBACA,OAAO,CAAC,KAAR,CAAc,GAAG,CAAC,YAAlB,EAJC;SALC;MAAA,CAJV;KADJ,EAD0B;EAAA,CA7E9B;;AAAA,EA8FA,KAAC,yBAAD,GAA2B,SAAC,QAAD;WACvB,CAAC,CAAC,IAAF,CACI;AAAA,YAAM,KAAN;AAAA,MACA,OAAO,IADP;AAAA,MAEA,KAAK,iBAFL;AAAA,MAGA,UAAU,SAAC,GAAD;AACN,gBAAO,GAAG,CAAC,MAAX;AAAA,eACS,GADT;mBACkB,SAAS,IAAT,EAAe,IAAf,EADlB;AAAA,eAES,GAFT;mBAEkB,SAAS,IAAT,EAAe,KAAf,EAFlB;AAAA,eAGS,GAHT;mBAGkB,SAAS,sBAAT,EAHlB;AAAA;AAKQ,qBAAS,GAAG,CAAC,YAAb;mBACA,OAAO,CAAC,KAAR,CAAc,GAAG,CAAC,YAAlB,EANR;AAAA,SADM;MAAA,CAHV;KADJ,EADuB;EAAA,CA9F3B;;AAAA,EA4GA,KAAC,uBAAD,GAAyB,SAAC,QAAD;WACrB,CAAC,CAAC,IAAF,CACI;AAAA,YAAM,KAAN;AAAA,MACA,UAAU,MADV;AAAA,MAEA,OAAO,IAFP;AAAA,MAGA,SAAS,MAHT;AAAA,MAIA,KAAK,iBAJL;AAAA,MAKA,UAAU,SAAC,GAAD;AACN,gBAAO,GAAG,CAAC,MAAX;AAAA,eACS,GADT;mBACkB,SAAS,IAAT,EADlB;AAAA,eAES,GAFT;mBAEkB,SAAS,sBAAT,EAFlB;AAAA;AAIQ,qBAAS,GAAG,CAAC,YAAb;mBACA,OAAO,CAAC,KAAR,CAAc,GAAG,CAAC,YAAlB,EALR;AAAA,SADM;MAAA,CALV;KADJ,EADqB;EAAA,CA5GzB;;AAAA,EA2HA,KAAC,+BAAD,GAAiC,SAAC,QAAD;WAC7B,CAAC,CAAC,IAAF,CACI;AAAA,YAAM,KAAN;AAAA,MACA,UAAU,MADV;AAAA,MAEA,OAAO,IAFP;AAAA,MAGA,KAAK,iBAHL;AAAA,MAIA,UAAU,SAAC,GAAD;AACN,YAAG,GAAG,CAAC,MAAJ,KAAc,GAAd,IACA,GAAG,CAAC,MAAJ,KAAc,GADd,IAEA,GAAG,CAAC,MAAJ,KAAc,GAFjB;iBAGI,SAAS,IAAT,EAAe,GAAG,CAAC,YAAnB,EAHJ;SAAA,MAIK,IAAG,GAAG,CAAC,MAAJ,KAAc,GAAjB;iBACD,SAAS,sBAAT,EADC;SAAA;AAGD,mBAAS,GAAG,CAAC,YAAb;iBACA,OAAO,CAAC,KAAR,CAAc,GAAG,CAAC,YAAlB,EAJC;SALC;MAAA,CAJV;KADJ,EAD6B;EAAA,CA3HjC;;AAAA,EA4IA,KAAC,gCAAD,GAAkC,SAAC,QAAD;WAC9B,CAAC,CAAC,IAAF,CACI;AAAA,YAAM,KAAN;AAAA,MACA,UAAU,MADV;AAAA,MAEA,OAAO,IAFP;AAAA,MAGA,KAAK,iBAHL;AAAA,MAIA,UAAU,SAAC,GAAD;AACN,YAAG,GAAG,CAAC,MAAJ,KAAc,GAAjB;iBACI,SAAS,IAAT,EAAe,GAAG,CAAC,YAAnB,EAAiC,IAAjC,EADJ;SAAA,MAEK,IAAG,GAAG,CAAC,MAAJ,KAAc,GAAd,IACL,GAAG,CAAC,MAAJ,KAAc,GADZ;iBAED,SAAS,IAAT,EAAe,GAAG,CAAC,YAAnB,EAAiC,KAAjC,EAFC;SAAA,MAGA,IAAG,GAAG,CAAC,MAAJ,KAAc,GAAjB;iBACD,SAAS,sBAAT,EADC;SAAA;AAGD,mBAAS,GAAG,CAAC,YAAb;iBACA,OAAO,CAAC,KAAR,CAAc,GAAG,CAAC,YAAlB,EAJC;SANC;MAAA,CAJV;KADJ,EAD8B;EAAA,CA5IlC;;eAAA;;IADJ;;;;ACAA;EAAA;;iSAAA;;AAAA,WAAW,QAAQ,eAAR,CAAX;;AAAA,MAeM,CAAC,OAAP,GAAuB;AAEnB;;;;;;GAAA;;AAAA,sCAAU,IAAV;;AAAA,2BAEA,QAAO,EAFP;;AAAA,2BAIA,WAAU;WAAG,GAAH;EAAA,CAJV;;AAAA,2BAMA,kBAAiB,aANjB;;AAAA,2BAQA,eAAc,IARd;;AAAA,2BAWA,WAAU;WACN,IAAC,IAAG,CAAC,WAAL,CAAiB,OAAjB,EAA0B,CAAC,CAAC,IAAF,CAAO,IAAC,MAAR,MAAkB,CAA5C,EADM;EAAA,CAXV;;AAAA,2BAeA,aAAY,SAAC,IAAD;WACR,IAAC,cAAa,CAAC,MAAf,CAAsB,IAAI,CAAC,EAA3B,EADQ;EAAA,CAfZ;;AAAA,2BAmBA,aAAY;AACR;AAAA;AAAA,IACA,IAAC,MAAD,GAAS,EADT;AAAA,IAEA,IAAC,SAAD,CAAU,IAAC,WAAX,EAAuB,OAAvB,EAAkC,IAAC,QAAnC,CAFA;AAAA,IAGA,IAAC,SAAD,CAAU,IAAC,WAAX,EAAuB,KAAvB,EAAkC,IAAC,QAAnC,CAHA;AAAA,IAIA,IAAC,SAAD,CAAU,IAAC,WAAX,EAAuB,QAAvB,EAAkC,IAAC,WAAnC,CAJA;AAMA,QAAO,yBAAP;aACI,eAAe,GADnB;KAPQ;EAAA,CAnBZ;;AAAA,2BA8BA,SAAQ;AACJ;AAAA;AAAA;sBAAA;AAAA,UAAI,CAAC,GAAG,CAAC,MAAT;AAAA;WACA,uDAFI;EAAA,CA9BR;;AAAA,2BAmCA,cAAa;AACT;AAAA,QAAC,cAAD,GAAiB,EAAE,IAAC,aAAH,CAAjB;AACA;AAAA;sBAAA;AAAA,UAAC,WAAD,CAAY,IAAI,CAAC,GAAjB;AAAA,KADA;AAAA,IAEA,IAAC,QAAD,CAAS,IAAC,WAAV,CAFA;WAGA,IAAC,SAAD,CAAU,IAAC,MAAX,EAJS;EAAA,CAnCb;;AAAA,2BA0CA,SAAQ;AACJ,QAAC,QAAD,CAAS,EAAT;WACA,uDAFI;EAAA,CA1CR;;AAAA,2BA+CA,UAAS,SAAC,aAAD;AACL;AAAA;AAAA;sBAAA;AAAA,UAAI,CAAC,MAAL;AAAA;WACA,aAAa,CAAC,OAAd,CAAsB,IAAC,QAAvB,EAFK;EAAA,CA/CT;;AAAA,2BAoDA,UAAS,SAAC,KAAD;AACL;AAAA,cAAU,CAAC,CAAC,MAAF,CAAS,EAAT,EAAa;AAAA,MAAC,OAAO,KAAR;KAAb,EAA6B,IAAC,gBAAD,CAAiB,KAAjB,CAA7B,CAAV;AAAA,IACA,OAAW,QAAC,SAAD,CAAU,OAAV,CADX;AAAA,IAEA,IAAC,MAAM,MAAK,CAAC,GAAN,CAAP,GAAoB,IAAI,CAAC,MAAL,EAFpB;AAAA,IAGA,IAAC,WAAD,CAAY,IAAZ,CAHA;WAIA,IAAC,SAAD,CAAU,IAAC,MAAX,EALK;EAAA,CApDT;;AAAA,2BA4DA,aAAY,SAAC,KAAD;AACR,QAAC,MAAM,MAAK,CAAC,GAAN,CAAU,CAAC,MAAlB;AAAA,IACA,WAAQ,MAAM,MAAK,CAAC,GAAN,CADd;WAGA,IAAC,SAAD,CAAU,IAAC,MAAX,EAJQ;EAAA,CA5DZ;;wBAAA;;GAF0C,SAf9C;;;;ACAA;EAAA;;iSAAA;;AAAA,UAAc,QAAQ,gBAAR,CAAd;;AAAA,QACA,GAAc,QAAQ,iBAAR,CADd;;AAAA,UAEA,GAAc,QAAQ,mBAAR,CAFd;;AAAA,MAIM,CAAC,OAAP,GAAuB;AAKnB;;;;;;GAAA;;AAAA,4BACE;AAAA,QAAa,MAAb;AAAA,IACA,SAAa,OADb;AAAA,IAEA,UAAa,QAFb;AAAA,IAGA,aAAa,MAHb;GADF;;AAAA,mBAMA,OAAM;AACJ;AAAA,eAAe,aAAf;WACA,QAAQ,CAAC,MAAT,GAFI;EAAA,CANN;;AAAA,mBAUA,QAAO;AACL;AAAA,eAAe,aAAf;WACA,QAAQ,CAAC,MAAT,GAFK;EAAA,CAVP;;AAAA,mBAcA,OAAM,SAAC,QAAD;AACJ;AAAA,QAAG,SAAH;AACE,iBAAW,EAAX,CADF;KAAA;AAAA,IAEA,WAAe,cAFf;WAGA,QAAQ,CAAC,UAAT,CAAoB,QAApB,EAJI;EAAA,CAdN;;AAAA,mBAoBA,SAAQ;AACN;AAAA,QAAC,IAAD,GAAO,EAAP;AAAA,IACA,WAAe,gBADf;WAEA,QAAQ,CAAC,MAAT,GAHM;EAAA,CApBR;;gBAAA;;GALkC,QAAQ,CAAC,OAJ/C;;;;ACAA;EAAA;;iSAAA;;AAAA,WAAW,QAAQ,kBAAR,CAAX;;AAAA,KACA,GAAQ,QAAQ,cAAR,CADR;;AAAA,MAGM,CAAC,OAAP,GAAuB;AAEnB;;;;;;;;;;;;;;;;;;;;;;;;;GAAA;;AAAA,yBAAI,kBAAJ;;AAAA,oBACA,WAAU,QAAQ,kBAAR,CADV;;AAAA,oBAGA,SAAQ,aAHR;;AAAA,oBAKA,eAAc;WACV,CAAC,CAAC,IAAF,CACI;AAAA,WAAK,OAAL;AAAA,MACA,QAAQ,KADR;AAAA,MAEA,UAAU,MAFV;AAAA,MAGA,UAAU;eAAA,SAAC,GAAD;AACN,kBAAO,GAAG,CAAC,MAAX;AAAA,iBACS,GADT;qBACkB,KAAC,mBAAD,GADlB;AAAA,iBAES,GAFT;AAES;AAFT;qBAGS,OAAO,CAAC,KAAR,CAAc,GAAG,CAAC,YAAJ,IAAoB,GAAG,CAAC,YAAtC,EAHT;AAAA,WADM;QAAA;MAAA,QAHV;KADJ,EADU;EAAA,CALd;;AAAA,oBAgBA,cAAa;WACT,EAAE,MAAF,CAAS,CAAC,EAAV,CAAa,QAAb,EAAuB;aAAA;eACnB,KAAC,SAAD,GADmB;MAAA;IAAA,QAAvB,EADS;EAAA,CAhBb;;AAAA,oBAoBA,WAAU;AACN,MAAE,aAAF,CAAgB,CAAC,IAAjB,CAAsB,EAAtB;AAAA,IACA,EAAE,eAAF,CAAkB,CAAC,IAAnB,CAAwB,+BAAxB,CADA;WAEA,CAAC,CAAC,IAAF,CACI;AAAA,WAAK,OAAL;AAAA,MACA,QAAQ,MADR;AAAA,MAEA,MACI;AAAA,kBAAU,EAAE,gBAAF,CAAmB,CAAC,GAApB,EAAV;AAAA,QACA,UAAU,EAAE,gBAAF,CAAmB,CAAC,GAApB,EADV;OAHJ;AAAA,MAKA,UAAU,MALV;AAAA,MAMA,UAAU;eAAA,SAAC,GAAD;AACN,cAAG,GAAG,CAAC,MAAJ,KAAc,GAAjB;AACI,cAAE,gBAAF,CAAmB,CAAC,IAApB,CAAyB,UAAzB,EAAqC,EAArC;AAAA,YACA,EAAE,gBAAF,CAAmB,CAAC,IAApB,CAAyB,UAAzB,EAAqC,EAArC,CADA;AAAA,YAGA,KAAC,aAAD,EAHA;AAAA,YAIA,KAAC,uBAAD,EAJA;AAKA,gBAAG,KAAC,WAAU,CAAC,MAAZ,GAAqB,CAAxB;AAEI,mBAAC,iBAAD,GAAoB,CAApB;qBACA,KAAC,YAAD,GAAe,YAAY;AACvB,oBAAG,KAAC,WAAW,MAAC,iBAAD,CAAkB,CAAC,QAA/B,KAA2C,KAA9C;AACI,uBAAC,WAAW,MAAC,iBAAD,CAAkB,CAAC,cAA/B;yBACA,KAAC,WAAW,MAAC,iBAAD,CAAkB,CAAC,QAA/B,GAA0C,KAF9C;iBAAA,MAGK,IAAG,KAAC,WAAW,MAAC,iBAAD,CAAkB,CAAC,UAA/B,KAA6C,IAAhD;AACD,sBAAG,KAAC,iBAAD,GAAkB,CAAlB,KAAyB,KAAC,WAAU,CAAC,MAAxC;2BACI,KAAC,iBAAD,GADJ;mBAAA;AAGI,kCAAc,KAAC,YAAf;AAAA,oBACA,KAAC,iBAAD,CAAkB,wBAAlB,CADA;AAAA,oBAEA,KAAC,cAAD,CAAe,yGAAf,CAFA;AAAA,oBAGA,KAAC,gBAAD,CAAiB,KAAjB,CAHA;AAAA,oBAIA,KAAC,WAAD,CAAY,EAAZ,CAJA;2BAMA,KAAC,mBAAD,CAAoB,IAApB,EAA0B,IAA1B,EATJ;mBADC;iBAJkB;cAAA,CAAZ,EAeb,GAfa,EAHnB;aAAA;qBAoBI,KAAC,mBAAD,GApBJ;aANJ;WAAA,MA2BK,IAAG,GAAG,CAAC,MAAJ,KAAc,GAAjB;AACD,cAAE,aAAF,CAAgB,CAAC,IAAjB,CAAsB,kCAAtB;mBACA,EAAE,eAAF,CAAkB,CAAC,IAAnB,CAAwB,cAAxB,EAFC;WAAA;AAID,cAAE,aAAF,CAAgB,CAAC,IAAjB,CAAsB,gFAAtB;AAAA,YACA,EAAE,eAAF,CAAkB,CAAC,IAAnB,CAAwB,cAAxB,CADA;mBAEA,OAAO,CAAC,KAAR,CAAc,GAAd,EANC;WA5BC;QAAA;MAAA,QANV;KADJ,EAHM;EAAA,CApBV;;AAAA,oBAkEA,qBAAoB;WAChB,CAAC,CAAC,IAAF,CACI;AAAA,YAAM,KAAN;AAAA,MACA,UAAU,MADV;AAAA,MAEA,OAAO,KAFP;AAAA,MAGA,KAAK,gBAHL;AAAA,MAIA,UAAU,SAAC,GAAD;AACN,YAAG,GAAG,CAAC,MAAJ,KAAc,GAAjB;iBACI,MAAM,CAAC,QAAP,GAAkB,MAAM,GAAG,CAAC,aADhC;SAAA,MAEK,IAAG,GAAG,CAAC,MAAJ,KAAc,GAAjB;iBACD,EAAE,aAAF,CAAgB,CAAC,IAAjB,CAAsB,mBAAtB,EADC;SAAA;AAGD,YAAE,aAAF,CAAgB,CAAC,IAAjB,CAAsB,gFAAtB;iBACA,OAAO,CAAC,KAAR,CAAc,GAAd,EAJC;SAHC;MAAA,CAJV;KADJ,EADgB;EAAA,CAlEpB;;AAAA,oBAiFA,yBAAwB;AACpB,QAAC,WAAD,GAAc,SAAd;AAAA,IAEA,IAAC,WAAU,CAAC,IAAZ,CACI;AAAA,sBAAgB,IAAC,UAAjB;AAAA,MACA,UAAU,KADV;AAAA,MAEA,YAAY,KAFZ;KADJ,CAFA;AAAA,IAOA,IAAC,WAAU,CAAC,IAAZ,CACI;AAAA,sBAAgB,IAAC,kBAAjB;AAAA,MACA,UAAU,KADV;AAAA,MAEA,YAAY,KAFZ;KADJ,CAPA;AAAA,IAYA,IAAC,WAAU,CAAC,IAAZ,CACI;AAAA,sBAAgB,IAAC,oBAAjB;AAAA,MACA,UAAU,KADV;AAAA,MAEA,YAAY,KAFZ;KADJ,CAZA;AAAA,IAiBA,IAAC,WAAU,CAAC,IAAZ,CACI;AAAA,sBAAgB,IAAC,yBAAjB;AAAA,MACA,UAAU,KADV;AAAA,MAEA,YAAY,KAFZ;KADJ,CAjBA;WAsBA,IAAC,WAAU,CAAC,IAAZ,CACI;AAAA,sBAAgB,IAAC,uBAAjB;AAAA,MACA,UAAU,KADV;AAAA,MAEA,YAAY,KAFZ;KADJ,EAvBoB;EAAA,CAjFxB;;AAAA,oBA6GA,mBAAkB,SAAC,aAAD;WACd,EAAE,gBAAF,CAAmB,CAAC,IAApB,CAAyB,aAAzB,EADc;EAAA,CA7GlB;;AAAA,oBAgHA,gBAAe,SAAC,UAAD;WACX,EAAE,aAAF,CAAgB,CAAC,IAAjB,CAAsB,UAAtB,EADW;EAAA,CAhHf;;AAAA,oBAmHA,cAAa,SAAC,QAAD;WACT,EAAE,WAAF,CAAc,CAAC,KAAf,CAAqB,WAAW,GAAhC,EADS;EAAA,CAnHb;;AAAA,oBAsHA,aAAY,SAAC,OAAD;WACR,EAAE,UAAF,CAAa,CAAC,IAAd,CAAmB,OAAnB,EADQ;EAAA,CAtHZ;;AAAA,oBAyHA,kBAAiB,SAAC,IAAD;AACb,QAAG,IAAH;aACI,EAAE,iBAAF,CAAoB,CAAC,GAArB,CAAyB,SAAzB,EAAoC,OAApC,EADJ;KAAA;aAGI,EAAE,iBAAF,CAAoB,CAAC,GAArB,CAAyB,SAAzB,EAAoC,MAApC,EAHJ;KADa;EAAA,CAzHjB;;AAAA,oBA+HA,qBAAoB,SAAC,IAAD,EAAO,GAAP;AAChB,QAAG,IAAH;AACI,UAAG,GAAH;AACI,UAAE,iBAAF,CAAoB,CAAC,IAArB,CAA0B,UAA1B;AAAA,QACA,EAAE,iBAAF,CAAoB,CAAC,GAArB,CAAyB,OAAzB,EAAkC;iBAAA;AAC9B,iBAAC,mBAAD;mBACA,KAAC,mBAAD,CAAoB,KAApB,EAF8B;UAAA;QAAA,QAAlC,CADA,CADJ;OAAA;AAMI,UAAE,iBAAF,CAAoB,CAAC,GAArB,CAAyB,OAAzB,EAAkC;iBAAA;AAC9B,iBAAC,WAAW,MAAC,iBAAD,CAAkB,CAAC,UAA/B,GAA4C,IAA5C;mBACA,KAAC,mBAAD,CAAoB,KAApB,EAF8B;UAAA;QAAA,QAAlC,EANJ;OAAA;aASA,EAAE,iBAAF,CAAoB,CAAC,GAArB,CAAyB,SAAzB,EAAoC,OAApC,EAVJ;KAAA;aAYI,EAAE,iBAAF,CAAoB,CAAC,GAArB,CAAyB,SAAzB,EAAoC,MAApC,EAZJ;KADgB;EAAA,CA/HpB;;AAAA,oBA8IA,eAAc;AACV,QAAC,SAAD,GAAY,UAAZ;AAAA,IACA,IAAC,SAAQ,CAAC,QAAV,GAAqB,EAAE,gBAAF,CAAmB,CAAC,GAApB,EADrB;WAEA,IAAC,SAAQ,CAAC,QAAV,GAAqB,EAAE,gBAAF,CAAmB,CAAC,GAApB,GAHX;EAAA,CA9Id;;AAAA,oBAmJA,YAAW;AACP;AAAA,QAAC,iBAAD,CAAkB,kCAAlB;AAAA,IACA,IAAC,cAAD,CAAe,gGAAf,CADA;AAAA,IAEA,IAAC,WAAD,CAAY,EAAZ,CAFA;AAAA,IAGA,IAAC,gBAAD,CAAiB,KAAjB,CAHA;AAAA,IAKA,OACI,oSANJ;AAAA,IAaA,IAAC,WAAD,CAAY,IAAZ,CAbA;WAcA,EAAE,MAAF,CAAS,CAAC,GAAV,CAAc,QAAd,EAAwB;aAAA;AACpB,UAAE,eAAF,CAAkB,CAAC,IAAnB,CAAwB,+BAAxB;AAAA,QACA,EAAE,cAAF,CAAiB,CAAC,IAAlB,CAAuB,UAAvB,EAAmC,EAAnC,CADA;AAAA,QAEA,OAAO,CAAC,GAAR,CAAY,OAAO,KAAC,SAAQ,CAAC,QAA7B,CAFA;AAAA,QAGA,OAAO,CAAC,GAAR,CAAY,OAAO,EAAE,cAAF,CAAiB,CAAC,GAAlB,EAAnB,CAHA;eAIA,KAAK,CAAC,SAAN,CAAgB,KAAC,SAAQ,CAAC,QAA1B,EAAoC,EAAE,cAAF,CAAiB,CAAC,GAAlB,EAApC,EAA6D,SAAC,GAAD;AACzD,cAAG,GAAH;AACI,cAAE,eAAF,CAAkB,CAAC,GAAnB,CAAuB,SAAvB,EAAiC,MAAjC;AAAA,YAEA,KAAC,WAAD,CAAY,8BAA8B,GAA9B,GAAoC,0GAAhD,CAFA;mBAGA,KAAC,mBAAD,CAAoB,IAApB,EAJJ;WAAA;AAMI,cAAE,eAAF,CAAkB,CAAC,GAAnB,CAAuB,SAAvB,EAAiC,MAAjC;AAAA,YACA,KAAC,SAAQ,CAAC,QAAV,GAAqB,EAAE,cAAF,CAAiB,CAAC,GAAlB,EADrB;AAAA,YAEA,KAAC,cAAD,CAAe,2CAAf,CAFA;AAAA,YAGA,KAAC,WAAD,CAAY,EAAZ,CAHA;mBAIA,KAAC,mBAAD,CAAoB,IAApB,EAVJ;WADyD;QAAA,CAA7D,EALoB;MAAA;IAAA,QAAxB,EAfO;EAAA,CAnJX;;AAAA,oBAoLA,oBAAmB;AACf,QAAC,iBAAD,CAAkB,uCAAlB;AAAA,IACA,IAAC,cAAD,CAAe,EAAf,CADA;AAAA,IAEA,IAAC,WAAD,CAAY,EAAZ,CAFA;AAAA,IAGA,IAAC,gBAAD,CAAiB,KAAjB,CAHA;WAIA,KAAK,CAAC,YAAN,CAAmB;aAAA,SAAC,GAAD,EAAM,MAAN;AACf,YAAG,GAAH;AACI,eAAC,WAAD,CAAY,8BAA8B,GAA9B,GAAoC,sGAAhD;iBACA,KAAC,mBAAD,CAAoB,IAApB,EAFJ;SAAA,MAGK,IAAG,MAAH;AACD,eAAC,cAAD,CAAe,2DAAf;iBACA,KAAK,CAAC,iBAAN,CAAwB,SAAC,GAAD,EAAM,QAAN;AACpB,gBAAG,GAAH;AACI,mBAAC,cAAD,CAAe,yBAAf;AAAA,cACA,KAAC,WAAD,CAAY,+BAA+B,GAA/B,GAAqC,0GAAjD,CADA;qBAEA,KAAC,mBAAD,CAAoB,IAApB,EAHJ;aAAA,MAIK,IAAG,QAAH;AACD,mBAAC,cAAD,CAAe,wCAAf;AAAA,cACA,KAAC,WAAD,CAAY,EAAZ,CADA;AAAA,cAEA,KAAC,YAAD,CAAa,GAAb,CAFA;qBAGA,KAAC,mBAAD,CAAoB,IAApB,EAJC;aAAA;AAMD,mBAAC,cAAD,CAAe,8DAAf;AAAA,cACA,KAAC,WAAD,CAAY,EAAZ,CADA;AAAA,cAEA,KAAC,YAAD,CAAa,GAAb,CAFA;qBAGA,KAAC,mBAAD,CAAoB,IAApB,EATC;aALe;UAAA,CAAxB,EAFC;SAAA;AAkBD,eAAC,cAAD,CAAe,8EAAf;AAAA,UACA,KAAC,WAAD,CAAY,EAAZ,CADA;AAAA,UAEA,KAAC,YAAD,CAAa,GAAb,CAFA;iBAGA,KAAC,mBAAD,CAAoB,IAApB,EArBC;SAJU;MAAA;IAAA,QAAnB,EALe;EAAA,CApLnB;;AAAA,oBAoNA,sBAAqB;AACjB,QAAC,iBAAD,CAAkB,yCAAlB;AAAA,IACA,IAAC,cAAD,CAAe,EAAf,CADA;AAAA,IAEA,IAAC,WAAD,CAAY,EAAZ,CAFA;AAAA,IAGA,IAAC,gBAAD,CAAiB,KAAjB,CAHA;WAIA,KAAK,CAAC,qBAAN,CAA4B;aAAA,SAAC,GAAD,EAAM,MAAN;AACxB,YAAG,GAAH;AACI,eAAC,WAAD,CAAY,+BAA+B,GAA/B,GAAqC,mHAAjD;iBACA,KAAC,mBAAD,CAAoB,IAApB,EAFJ;SAAA,MAGK,IAAG,MAAH;AACD,eAAC,cAAD,CAAe,8FAAf;iBACA,KAAK,CAAC,mBAAN,CAA0B,SAAC,GAAD;AACtB,gBAAG,GAAH;AACI,mBAAC,cAAD,CAAe,4DAAf;AAAA,cACA,KAAC,WAAD,CAAY,8BAA8B,GAA9B,GAAoC,mHAAhD,CADA;qBAEA,KAAC,mBAAD,CAAoB,IAApB,EAHJ;aAAA;AAKI,mBAAC,cAAD,CAAe,6GAAf;AAAA,cACA,KAAC,YAAD,CAAa,CAAb,CADA;AAAA,cAEA,KAAC,gBAAD,CAAiB,IAAjB,CAFA;AAAA,cAGA,KAAC,WAAD,GAAc,UAHd;AAAA,cAIA,KAAC,WAAU,CAAC,IAAZ,GAAmB,CAJnB;AAAA,cAKA,KAAK,CAAC,2BAAN,CAAkC,KAAC,+BAAnC,CALA;qBAOA,KAAC,MAAD,GAAS,YAAY;uBACjB,KAAK,CAAC,2BAAN,CAAkC,KAAC,+BAAnC,EADiB;cAAA,CAAZ,EAER,GAFQ,EAZb;aADsB;UAAA,CAA1B,EAFC;SAAA;AAmBD,eAAC,cAAD,CAAe,8EAAf;AAAA,UACA,KAAC,WAAD,CAAY,EAAZ,CADA;AAAA,UAEA,KAAC,YAAD,CAAa,GAAb,CAFA;iBAGA,KAAC,mBAAD,CAAoB,IAApB,EAtBC;SAJmB;MAAA;IAAA,QAA5B,EALiB;EAAA,CApNrB;;AAAA,oBAqPA,iCAAgC,SAAC,GAAD,EAAM,MAAN;AAC5B;AAAA,QAAG,GAAH;aACI,OAAO,CAAC,GAAR,CAAY,GAAZ,EADJ;KAAA;AAGI,UAAG,MAAM,CAAC,IAAP,GAAc,IAAC,WAAU,CAAC,IAA7B;AACI,YAAC,WAAD,GAAc,MAAd;AAAA,QACA,UACA,MAAM,CAAC,IAAP,GAAc,0BAAd,GAA2C,MAAM,CAAC,KAAlD,GAA0D,GAF1D;AAGA,YAA8D,MAAM,CAAC,MAAP,KAAmB,CAAjF;AAAA,qBAAW,SAAS,MAAM,CAAC,MAAhB,GAAyB,sBAApC;SAHA;AAIA,YAAmE,MAAM,CAAC,QAAP,KAAqB,CAAxF;AAAA,qBAAW,SAAS,MAAM,CAAC,QAAhB,GAA2B,yBAAtC;SAJA;AAKA,YAA0E,MAAM,CAAC,WAAP,KAAwB,CAAlG;AAAA,qBAAW,SAAS,MAAM,CAAC,WAAhB,GAA8B,6BAAzC;SALA;AAMA,YAA8E,MAAM,CAAC,KAAP,KAAkB,CAAhG;AAAA,qBAAW,SAAS,MAAM,CAAC,KAAhB,GAAwB,uCAAnC;SANA;AAAA,QAQA,IAAC,WAAD,CAAY,OAAZ,CARA;AAAA,QASA,IAAC,YAAD,CAAa,CAAC,MAAI,MAAM,CAAC,IAAZ,IAAkB,MAAM,CAAC,KAAtC,CATA;AAWA,YAAG,MAAM,CAAC,IAAP,KAAe,MAAM,CAAC,KAAzB;AACI,cAAC,cAAD,CAAe,oCAAf;AAAA,UACA,cAAc,IAAC,MAAf,CADA;iBAGA,IAAC,mBAAD,CAAoB,IAApB,EAJJ;SAZJ;OAHJ;KAD4B;EAAA,CArPhC;;AAAA,oBA2QA,2BAA0B;AACtB,QAAC,iBAAD,CAAkB,iCAAlB;AAAA,IACA,IAAC,cAAD,CAAe,EAAf,CADA;AAAA,IAEA,IAAC,WAAD,CAAY,EAAZ,CAFA;AAAA,IAGA,IAAC,UAAD,GAAa,EAHb;AAAA,IAIA,IAAC,gBAAD,CAAiB,KAAjB,CAJA;WAKA,KAAK,CAAC,wBAAN,CAA+B;aAAA,SAAC,GAAD,EAAM,MAAN;AAC3B,YAAG,GAAH;AACI,eAAC,WAAD,CAAY,+BAA+B,GAA/B,GAAqC,2GAAjD;iBACA,KAAC,mBAAD,CAAoB,IAApB,EAFJ;SAAA,MAGK,IAAG,MAAH;AACD,eAAC,cAAD,CAAe,8IAAf;iBACA,KAAK,CAAC,sBAAN,CAA6B,SAAC,GAAD;AACzB,gBAAG,GAAH;AACI,mBAAC,cAAD,CAAe,0DAAf;AAAA,cACA,KAAC,WAAD,CAAY,+BAA+B,GAA/B,GAAqC,2GAAjD,CADA;qBAEA,KAAC,mBAAD,CAAoB,IAApB,EAHJ;aAAA;AAKI,mBAAK,CAAC,+BAAN,CAAsC,KAAC,oCAAvC;qBACA,KAAC,MAAD,GAAS,YAAY;uBACjB,KAAK,CAAC,+BAAN,CAAsC,KAAC,oCAAvC,EADiB;cAAA,CAAZ,EAER,GAFQ,EANb;aADyB;UAAA,CAA7B,EAFC;SAAA;AAaD,eAAC,cAAD,CAAe,8EAAf;AAAA,UACA,KAAC,WAAD,CAAY,EAAZ,CADA;AAAA,UAEA,KAAC,YAAD,CAAa,GAAb,CAFA;iBAGA,KAAC,mBAAD,CAAoB,IAApB,EAhBC;SAJsB;MAAA;IAAA,QAA/B,EANsB;EAAA,CA3Q1B;;AAAA,oBAwSA,yBAAwB;AACpB,QAAC,iBAAD,CAAkB,iCAAlB;AAAA,IACA,IAAC,cAAD,CAAe,EAAf,CADA;AAAA,IAEA,IAAC,WAAD,CAAY,EAAZ,CAFA;AAAA,IAGA,IAAC,gBAAD,CAAiB,IAAjB,CAHA;AAAA,IAKA,IAAC,cAAD,CAAe,qGAAf,CALA;AAAA,IAMA,IAAC,YAAD,CAAa,CAAb,CANA;AAAA,IAOA,IAAC,gBAAD,CAAiB,IAAjB,CAPA;AAAA,IAQA,IAAC,WAAD,GAAc,UARd;AAAA,IASA,IAAC,WAAU,CAAC,IAAZ,GAAmB,CATnB;AAAA,IAUA,KAAK,CAAC,8BAAN,CAAqC,IAAC,kCAAtC,CAVA;WAYA,IAAC,MAAD,GAAS,YAAY;aAAA;eACjB,KAAK,CAAC,8BAAN,CAAqC,KAAC,kCAAtC,EADiB;MAAA;IAAA,QAAZ,EAER,GAFQ,EAbW;EAAA,CAxSxB;;AAAA,oBAyTA,oCAAmC,SAAC,GAAD,EAAM,MAAN;AAC/B;AAAA,QAAG,GAAH;aACI,OAAO,CAAC,GAAR,CAAY,GAAZ,EADJ;KAAA;AAGI,UAAG,MAAM,CAAC,IAAP,GAAc,IAAC,WAAU,CAAC,IAA7B;AACI,YAAC,WAAD,GAAc,MAAd;AAAA,QACA,UACA,MAAM,CAAC,IAAP,GAAc,0BAAd,GAA2C,MAAM,CAAC,KAAlD,GAA0D,GAF1D;AAGA,YAA8D,MAAM,CAAC,MAAP,KAAmB,CAAjF;AAAA,qBAAW,SAAS,MAAM,CAAC,MAAhB,GAAyB,sBAApC;SAHA;AAIA,YAAmE,MAAM,CAAC,QAAP,KAAqB,CAAxF;AAAA,qBAAW,SAAS,MAAM,CAAC,QAAhB,GAA2B,yBAAtC;SAJA;AAKA,YAA0E,MAAM,CAAC,WAAP,KAAwB,CAAlG;AAAA,qBAAW,SAAS,MAAM,CAAC,WAAhB,GAA8B,6BAAzC;SALA;AAMA,YAA8E,MAAM,CAAC,KAAP,KAAkB,CAAhG;AAAA,qBAAW,SAAS,MAAM,CAAC,KAAhB,GAAwB,uCAAnC;SANA;AAAA,QAQA,IAAC,WAAD,CAAY,OAAZ,CARA;AAAA,QASA,IAAC,YAAD,CAAa,CAAC,MAAI,MAAM,CAAC,IAAZ,IAAkB,MAAM,CAAC,KAAtC,CATA;AAWA,YAAG,MAAM,CAAC,IAAP,KAAe,MAAM,CAAC,KAAzB;AACI,cAAC,cAAD,CAAe,4DAAf;AAAA,UACA,IAAC,cAAD,CAAe,oCAAf,CADA;AAAA,UAEA,cAAc,IAAC,MAAf,CAFA;iBAIA,IAAC,mBAAD,CAAoB,IAApB,EALJ;SAZJ;OAHJ;KAD+B;EAAA,CAzTnC;;AAAA,oBAgVA,sCAAqC,SAAC,GAAD,EAAM,IAAN,EAAY,IAAZ;AACjC,QAAC,KAAD,GAAQ,KAAR;AACA,QAAG,GAAH;AACI,aAAO,CAAC,GAAR,CAAY,GAAZ;AAAA,MACA,IAAC,cAAD,CAAe,0DAAf,CADA;AAAA,MAEA,IAAC,WAAD,CAAY,+BAA+B,GAA/B,GAAqC,2GAAjD,CAFA;aAGA,IAAC,mBAAD,CAAoB,IAApB,EAJJ;KAAA;AAMI,UAAG,IAAI,CAAC,KAAL,KAAgB,IAAC,UAApB;AACI,YAAC,UAAD,GAAa,IAAI,CAAC,KAAlB;AAAA,QACA,IAAC,WAAD,CAAY,oCAAkC,IAAI,CAAC,KAAnD,CADA,CADJ;OAAA;AAGA,UAAG,IAAH;AACI,YAAC,cAAD,CAAe,0DAAf;AAAA,QACA,IAAC,cAAD,CAAe,qCAAf,CADA;AAAA,QAEA,cAAc,IAAC,MAAf,CAFA;eAGA,IAAC,WAAW,KAAC,iBAAD,CAAkB,CAAC,UAA/B,GAA4C,KAJhD;OATJ;KAFiC;EAAA,CAhVrC;;iBAAA;;GAFmC,SAHvC;;;;ACAA;EAAA;;iSAAA;;AAAA,WAAY,QAAQ,kBAAR,CAAZ;;AAAA,MAEM,CAAC,OAAP,GAAuB;AAEnB;;;;;;;;GAAA;;AAAA,4BAAI,MAAJ;;AAAA,uBACA,WAAU,QAAQ,oBAAR,CADV;;AAAA,uBAGA,SAAQ,aAHR;;AAAA,uBAKA,gBAAe;AACX;WAAA,MACI;AAAA,WAAK,IAAC,IAAN;MAFO;EAAA,CALf;;AAAA,uBASA,eAAc;AACV,QAAC,YAAD,GAAe,SAAf;WACA,CAAC,CAAC,IAAF,CACI;AAAA,YAAM,KAAN;AAAA,MACA,UAAU,MADV;AAAA,MAEA,OAAO,KAFP;AAAA,MAGA,KAAK,cAHL;AAAA,MAIA,UAAU;eAAA,SAAC,GAAD;AACN;AAAA,cAAG,GAAG,CAAC,MAAJ,KAAc,GAAjB;AACI,mBAAO,GAAG,CAAC,YAAX;AACA;kCAAA;AACI,kBAAG,OAAO,CAAC,eAAX;AACI,qBAAC,YAAW,CAAC,IAAb,CACI;AAAA,wBAAM,OAAO,CAAC,WAAd;AAAA,kBACA,WAAW,OAAO,CAAC,eADnB;iBADJ,EADJ;eADJ;AAAA,aADA;mBAMA,KAAC,aAAD,GACI;AAAA,mCAAqB,KAAC,YAAW,CAAC,MAAb,GAAsB,CAA3C;AAAA,cACA,sBAAsB,CADtB;cARR;WAAA,MAUK,IAAG,GAAG,CAAC,MAAJ,KAAc,GAAjB;mBACD,KAAC,YAAW,CAAC,GAAb,GAAmB,uBADlB;WAAA;mBAGD,KAAC,YAAW,CAAC,GAAb,GAAmB,IAHlB;WAXC;QAAA;MAAA,QAJV;KADJ,EAFU;EAAA,CATd;;AAAA,uBAgCA,SAAQ,aAhCR;;AAAA,uBAmCA,cAAa;AACT;AAAA,QAAC,SAAD,GAAY,WAAW;aAAA;AACnB,eAAO,CAAC,GAAR,CAAY,uIAAZ;eACA,MAAM,CAAC,QAAP,GAAkB,SAFC;MAAA;IAAA,QAAX,EAGV,IAHU,CAAZ;AAAA,IAIA,OAAO,CAAC,GAAR,CAAY,sCAAZ,CAJA;AAAA,IAKA,CAAC,CAAC,IAAF,CACI;AAAA,YAAM,KAAN;AAAA,MACA,UAAU,MADV;AAAA,MAEA,OAAO,IAFP;AAAA,MAGA,KAAK,QAHL;AAAA,MAIA,UAAU;eAAA,SAAC,GAAD;AACN;AAAA,cAAG,GAAG,CAAC,MAAJ,KAAc,GAAjB;AACI,mBAAO,GAAG,CAAC,YAAX;AACA,gBAAG,IAAI,CAAC,KAAR;AACI,qBAAO,CAAC,GAAR,CAAY,sDAAsD,IAAI,CAAC,KAAvE,EADJ;aAAA;AAGI,qBAAO,CAAC,GAAR,CAAY,oDAAZ;AAAA,cACA,KAAC,YAAD,EADA,CAHJ;aAFJ;WAAA;AAOA,cAAG,GAAG,CAAC,MAAJ,KAAc,GAAjB;mBACI,OAAO,CAAC,KAAR,CAAc,sBAAd,EADJ;WAAA;mBAGI,OAAO,CAAC,GAAR,CAAY,+CAA+C,GAA3D,EAHJ;WARM;QAAA;MAAA,QAJV;KADJ,CALA;AAuBA,QAAG,KAAK,YAAW,CAAC,GAApB;AACI;AAAA;WAAA;4BAAA;AACI,eAAO,CAAC,GAAR,CAAY,4BAA4B,OAAO,CAAC,IAApC,GAA2C,cAA3C,GAA4D,OAAO,CAAC,SAApE,GAAgF,MAA5F;AAAA,QACA,SAAS;iBAAA;AACL;AAAA,oBAAQ,OAAO,CAAC,IAAhB;AACA,mBAAO;AACH,qBAAO,CAAC,GAAR,CAAY,aAAa,KAAb,GAAqB,aAAjC;qBACA,KAAC,YAAD,GAFG;YAAA,CAAP,CAFK;UAAA;QAAA,QADT;AAAA,sBAMA,EAAE,gBAAF,CAAmB,CAAC,MAApB,CAA2B,kBAAkB,OAAO,CAAC,SAA1B,GAAsC,aAAjE,CACA,CAAC,QADD,EACW,CAAC,IADZ,EACkB,CAAC,GADnB,CACuB,MADvB,EAC+B,QAD/B,EANA,CADJ;AAAA;sBADJ;KAAA;aAWI,OAAO,CAAC,GAAR,CAAY,+EAA+E,IAAC,YAAW,CAAC,GAAxG,EAXJ;KAxBS;EAAA,CAnCb;;AAAA,uBAwEA,cAAa;AACT,QAAC,aAAY,CAAC,oBAAd;AACA,QAAG,IAAC,aAAY,CAAC,oBAAd,KAAsC,IAAC,aAAY,CAAC,mBAAvD;AACI,aAAO,CAAC,GAAR,CAAY,+DAAZ;AAAA,MACA,aAAa,IAAC,SAAd,CADA;aAEA,MAAM,CAAC,QAAP,GAAkB,SAHtB;KAFS;EAAA,CAxEb;;oBAAA;;GAFsC,SAF1C;;;;ACAA;EAAA;;iSAAA;;AAAA,WAAY,QAAQ,kBAAR,CAAZ;;AAAA,OACA,GAAY,QAAQ,gBAAR,CADZ;;AAAA,KAEA,GAAY,QAAQ,cAAR,CAFZ;;AAAA,MAIM,CAAC,OAAP,GAAuB;AAEnB;;;;;;;;;;;;;;;;;;;;;;;;;;GAAA;;AAAA,0BAAI,MAAJ;;AAAA,qBACA,WAAU,QAAQ,kBAAR,CADV;;AAAA,qBAGA,QAAO,EAHP;;AAAA,qBAKA,SAAQ;WACJ;AAAA,2BAAqB,WAArB;AAAA,MACA,WAAW,WADX;MADI;EAAA,CALR;;AAAA,qBASA,oBAAmB,KATnB;;AAAA,qBAWA,gBAAe;AACX;WAAA,MACI;AAAA,WAAK,IAAC,IAAN;MAFO;EAAA,CAXf;;AAAA,qBAeA,aAAY,SAAC,MAAD;AACR,QAAC,OAAD,GAAU,MAAV;WACA,CAAC,CAAC,IAAF,CACI;AAAA,YAAM,KAAN;AAAA,MACA,UAAU,MADV;AAAA,MAEA,OAAO,KAFP;AAAA,MAGA,KAAK,aAAW,MAHhB;AAAA,MAIA,UAAU;eAAA,SAAC,GAAD;AACN,kBAAO,GAAG,CAAC,MAAX;AAAA,iBACS,GADT;AACkB,oBAAM,CAAC,QAAP,GAAkB,QAAlB,CADlB;AACS;AADT,iBAES,GAFT;AAIQ,mBAAC,MAAD,GAAS,qBAAmB,MAA5B;AAAA,cACA,KAAC,IAAD,GAAO,EADP,CAJR;AAES;AAFT,iBAMS,GANT;AAMkB,mBAAC,IAAD,GAAO,GAAG,CAAC,YAAY,CAAC,GAAxB,CANlB;AAMS;AANT,iBAOS,GAPT;AAOkB,mBAAC,MAAD,GAAS,mBAAT,CAPlB;AAOS;AAPT;AASQ,mBAAC,MAAD,GAAS,GAAG,CAAC,YAAb;AAAA,cACA,OAAO,CAAC,GAAR,CAAY,GAAG,CAAC,YAAhB,CADA,CATR;AAAA;AAAA,UAWA,QAAQ,CAAC,KAAT,GAAiB,MAAM,CAAC,QAXxB;iBAYA,KAAC,OAAD,GAbM;QAAA;MAAA,QAJV;KADJ,EAFQ;EAAA,CAfZ;;AAAA,qBAqCA,cAAa;AACT,QAAC,YAAD;AACA,QAAG,IAAC,MAAJ;AACI,UAAC,UAAD,CAAW,IAAC,MAAZ,EADJ;KADA;AAAA,IAGA,CAAC,CAAC,IAAF,CACI;AAAA,YAAM,KAAN;AAAA,MACA,UAAU,MADV;AAAA,MAEA,OAAO,KAFP;AAAA,MAGA,KAAK,cAHL;AAAA,MAIA,UAAU;eAAA,SAAC,GAAD;AACN;AAAA,cAAG,GAAG,CAAC,MAAJ,KAAc,GAAjB;AACI,mBAAO,GAAG,CAAC,YAAX;AAAA,YAEA,OAAO,SAFP;AAGA;kCAAA;AACI,kBAAG,IAAK,QAAO,CAAC,QAAR,CAAL,KAA0B,MAA7B;AACI,oBAAK,QAAO,CAAC,QAAR,CAAL,GAAyB,SAAzB,CADJ;eAAA;AAAA,cAEA,IAAK,QAAO,CAAC,QAAR,CAAiB,CAAC,IAAvB,CAA4B,OAA5B,CAFA,CADJ;AAAA,aAHA;AAQA;iBAAA;2CAAA;AACI,yBAAW,eAAe,SAAf,GAA2B,aAAtC;AACA;0CAAA;AACI,mCAAmB,EAAnB;AACA,oBAAG,OAAO,CAAC,gBAAR,KAA4B,KAAC,OAAhC;AACI,qCAAmB,sBAAnB;AACA,sBAAG,OAAO,CAAC,kBAAX;AACI,yBAAC,YAAD,GAAe,OAAO,CAAC,kBAAvB;AACA,wBAAG,OAAO,CAAC,qBAAX;AACI,iCAAW;+BACP,EAAE,MAAF,CAAS,CAAC,IAAV,CAAe,KAAf,EAAsB,KAAC,YAAvB,EADO;sBAAA,CAAX,EAEE,OAAO,CAAC,qBAFV,EADJ;qBAAA;AAKI,wBAAE,MAAF,CAAS,CAAC,GAAV,CAAc,MAAd,EAAsB;+BAClB,EAAE,MAAF,CAAS,CAAC,IAAV,CAAe,KAAf,EAAsB,KAAC,YAAvB,EADkB;sBAAA,CAAtB,EALJ;qBAFJ;mBAFJ;iBADA;AAAA,gBAYA,KACI,8BAA4B,gBAA5B,GAA6C,cAA7C,GACgB,OAAO,CAAC,gBADxB,GACyC,eADzC,GAEoB,OAAO,CAAC,UAF5B,GAEuC,eAFvC,GAGgB,OAAO,CAAC,WAHxB,GAGoC,oBAhBxC;AAAA,gBAmBA,YAAY,EAnBZ,CADJ;AAAA,eADA;AAAA,cAsBA,YAAY,YAtBZ;AAAA,4BAuBA,EAAE,eAAF,CAAkB,CAAC,MAAnB,CAA0B,QAA1B,EAvBA,CADJ;AAAA;4BATJ;WAAA,MAkCK,IAAG,GAAG,CAAC,MAAJ,KAAc,GAAjB;mBACD,KAAC,UAAD,CAAW,mBAAX,EADC;WAAA;AAGD,mBAAO,GAAP;mBACA,KAAC,UAAD,CAAW,IAAI,CAAC,MAAL,GAAc,KAAd,GAAsB,IAAI,CAAC,UAA3B,GAAwC,MAAxC,GAAiD,IAAI,CAAC,YAAjE,EAJC;WAnCC;QAAA;MAAA,QAJV;KADJ,CAHA;WAgDA,IAAC,WAAD,GAjDS;EAAA,CArCb;;AAAA,qBAwFA,YAAW,SAAC,GAAD;AACP,MAAE,YAAF,CAAe,CAAC,IAAhB,CAAqB,GAArB;AAAA,IACA,EAAE,SAAF,CAAY,CAAC,WAAb,CAAyB,WAAzB,CADA;WAEA,EAAE,SAAF,CAAY,CAAC,QAAb,CAAsB,UAAtB,EAHO;EAAA,CAxFX;;AAAA,qBA6FA,YAAW,SAAC,CAAD;AACP,QAAG,CAAC,CAAC,IAAF,KAAU,OAAV,IAAqB,CAAC,CAAC,OAAF,KAAa,EAAlC,IAAwC,CAAC,CAAC,OAAF,KAAa,EAAxD;AACI,QAAE,SAAF,CAAY,CAAC,WAAb,CAAyB,UAAzB;aACA,EAAE,SAAF,CAAY,CAAC,QAAb,CAAsB,WAAtB,EAFJ;KADO;EAAA,CA7FX;;AAAA,qBAmGA,aAAY;AACR;AAAA,WAAO,IAAP;AAAA,IAEA,EAAE,eAAF,CAAkB,CAAC,EAAnB,CAAsB,OAAtB,EAA+B;AAC3B,QAAE,kBAAF,CAAqB,CAAC,GAAtB,CAA0B,SAA1B,EAAqC,OAArC;aACA,EAAE,WAAF,CAAc,CAAC,GAAf,CAAmB,SAAnB,EAA8B,OAA9B,EAF2B;IAAA,CAA/B,CAFA;AAAA,IAMA,EAAE,QAAF,CAAW,CAAC,EAAZ,CAAe,OAAf,EAAwB;AACpB,UAAG,KAAQ,CAAC,iBAAZ;AACI,UAAE,kBAAF,CAAqB,CAAC,GAAtB,CAA0B,SAA1B,EAAqC,MAArC;eACA,EAAE,WAAF,CAAc,CAAC,GAAf,CAAmB,SAAnB,EAA8B,MAA9B,EAFJ;OADoB;IAAA,CAAxB,CANA;AAAA,IAWA,EAAE,OAAF,CAAU,CAAC,EAAX,CAAc,OAAd,EAAuB;AACnB,UAAG,KAAQ,CAAC,iBAAZ;AACI,UAAE,IAAF,CAAO,CAAC,QAAR,CAAiB,QAAjB;AAAA,QACA,IAAI,CAAC,aAAL,CAAmB,KAAnB,CADA;AAAA,QAEA,IAAI,CAAC,iBAAL,GAAyB,IAFzB;eAGA,IAAI,CAAC,iBAAL,GAJJ;OADmB;IAAA,CAAvB,CAXA;AAAA,IAkBA,EAAE,KAAF,CAAQ,CAAC,EAAT,CAAY,OAAZ,EAAqB;AACjB,UAAG,KAAQ,CAAC,iBAAZ;AACI,UAAE,IAAF,CAAO,CAAC,QAAR,CAAiB,QAAjB;AAAA,QACA,IAAI,CAAC,aAAL,CAAmB,KAAnB,CADA;AAAA,QAEA,IAAI,CAAC,iBAAL,GAAyB,IAFzB;eAGA,IAAI,CAAC,mBAAL,GAJJ;OADiB;IAAA,CAArB,CAlBA;AAAA,IAyBA,EAAE,KAAF,CAAQ,CAAC,EAAT,CAAY,OAAZ,EAAqB;AACjB,UAAG,KAAQ,CAAC,iBAAZ;AACI,UAAE,IAAF,CAAO,CAAC,QAAR,CAAiB,QAAjB;AAAA,QACA,IAAI,CAAC,aAAL,CAAmB,KAAnB,CADA;AAAA,QAEA,IAAI,CAAC,iBAAL,GAAyB,IAFzB;eAGA,IAAI,CAAC,wBAAL,GAJJ;OADiB;IAAA,CAArB,CAzBA;AAAA,IAgCA,EAAE,OAAF,CAAU,CAAC,EAAX,CAAc,OAAd,EAAuB;AACnB,UAAG,KAAQ,CAAC,iBAAZ;AACI,UAAE,IAAF,CAAO,CAAC,QAAR,CAAiB,QAAjB;AAAA,QACA,IAAI,CAAC,aAAL,CAAmB,KAAnB,CADA;AAAA,QAEA,IAAI,CAAC,iBAAL,GAAyB,IAFzB;eAGA,IAAI,CAAC,SAAL,GAJJ;OADmB;IAAA,CAAvB,CAhCA;WAuCA,EAAE,MAAF,CAAS,CAAC,EAAV,CAAa,OAAb,EAAsB;aAAA;AAClB,YAAG,KAAQ,CAAC,iBAAZ;AACI,YAAE,KAAF,CAAO,CAAC,QAAR,CAAiB,QAAjB;AAAA,UACA,IAAI,CAAC,aAAL,CAAmB,KAAnB,CADA;iBAEA,MAAM,CAAC,QAAP,GAAkB,UAHtB;SADkB;MAAA;IAAA,QAAtB,EAxCQ;EAAA,CAnGZ;;AAAA,qBAiJA,gBAAe,SAAC,IAAD;AACX,QAAG,IAAH;AACI,QAAE,OAAF,CAAU,CAAC,WAAX,CAAuB,QAAvB,CAAgC,CAAC,WAAjC,CAA6C,UAA7C;AAAA,MACA,EAAE,KAAF,CAAQ,CAAC,WAAT,CAAqB,QAArB,CAA8B,CAAC,WAA/B,CAA2C,UAA3C,CADA;AAAA,MAEA,EAAE,KAAF,CAAQ,CAAC,WAAT,CAAqB,QAArB,CAA8B,CAAC,WAA/B,CAA2C,UAA3C,CAFA;AAAA,MAGA,EAAE,OAAF,CAAU,CAAC,WAAX,CAAuB,QAAvB,CAAgC,CAAC,WAAjC,CAA6C,UAA7C,CAHA;AAAA,MAIA,EAAE,MAAF,CAAS,CAAC,WAAV,CAAsB,QAAtB,CAA+B,CAAC,WAAhC,CAA4C,UAA5C,CAJA;aAKA,EAAE,QAAF,CAAW,CAAC,WAAZ,CAAwB,eAAxB,EANJ;KAAA;AAQI,QAAE,OAAF,CAAU,CAAC,QAAX,CAAoB,UAApB;AAAA,MACA,EAAE,KAAF,CAAQ,CAAC,QAAT,CAAkB,UAAlB,CADA;AAAA,MAEA,EAAE,KAAF,CAAQ,CAAC,QAAT,CAAkB,UAAlB,CAFA;AAAA,MAGA,EAAE,OAAF,CAAU,CAAC,QAAX,CAAoB,UAApB,CAHA;AAAA,MAIA,EAAE,MAAF,CAAS,CAAC,QAAV,CAAmB,UAAnB,CAJA;aAKA,EAAE,QAAF,CAAW,CAAC,QAAZ,CAAqB,eAArB,EAbJ;KADW;EAAA,CAjJf;;AAAA,qBAiKA,mBAAkB,SAAC,aAAD;WACd,EAAE,gBAAF,CAAmB,CAAC,IAApB,CAAyB,aAAzB,EADc;EAAA,CAjKlB;;AAAA,qBAoKA,gBAAe,SAAC,UAAD;WACX,EAAE,aAAF,CAAgB,CAAC,IAAjB,CAAsB,UAAtB,EADW;EAAA,CApKf;;AAAA,qBAuKA,cAAa,SAAC,QAAD;WACT,EAAE,WAAF,CAAc,CAAC,KAAf,CAAqB,WAAW,GAAhC,EADS;EAAA,CAvKb;;AAAA,qBA0KA,aAAY,SAAC,OAAD;WACR,EAAE,UAAF,CAAa,CAAC,IAAd,CAAmB,OAAnB,EADQ;EAAA,CA1KZ;;AAAA,qBA6KA,kBAAiB,SAAC,IAAD;AACb,QAAG,IAAH;aACI,EAAE,iBAAF,CAAoB,CAAC,GAArB,CAAyB,SAAzB,EAAoC,OAApC,EADJ;KAAA;aAGI,EAAE,iBAAF,CAAoB,CAAC,GAArB,CAAyB,SAAzB,EAAoC,MAApC,EAHJ;KADa;EAAA,CA7KjB;;AAAA,qBAmLA,oBAAmB;AACf,MAAE,iBAAF,CAAoB,CAAC,GAArB,CAAyB,OAAzB,EAAkC;aAAA;AAC9B,aAAC,kBAAD,GAAqB,KAArB;AAAA,QACA,KAAC,cAAD,CAAe,IAAf,CADA;AAAA,QAEA,KAAC,iBAAD,CAAkB,EAAlB,CAFA;AAAA,QAGA,KAAC,cAAD,CAAe,EAAf,CAHA;AAAA,QAIA,KAAC,WAAD,CAAY,EAAZ,CAJA;AAAA,QAKA,KAAC,gBAAD,CAAiB,KAAjB,CALA;eAMA,EAAE,iBAAF,CAAoB,CAAC,GAArB,CAAyB,SAAzB,EAAoC,MAApC,EAP8B;MAAA;IAAA,QAAlC;WAQA,EAAE,iBAAF,CAAoB,CAAC,GAArB,CAAyB,SAAzB,EAAoC,OAApC,EATe;EAAA,CAnLnB;;AAAA,qBA8LA,YAAW;AACP;AAAA,QAAC,iBAAD,CAAkB,kCAAlB;AAAA,IACA,IAAC,cAAD,CAAe,gGAAf,CADA;AAAA,IAEA,IAAC,WAAD,CAAY,EAAZ,CAFA;AAAA,IAGA,IAAC,gBAAD,CAAiB,KAAjB,CAHA;AAAA,IAKA,OACI,yYANJ;AAAA,IAcA,IAAC,WAAD,CAAY,IAAZ,CAdA;WAeA,EAAE,MAAF,CAAS,CAAC,GAAV,CAAc,QAAd,EAAwB;aAAA;AACpB,UAAE,eAAF,CAAkB,CAAC,IAAnB,CAAwB,+BAAxB;AAAA,QACA,EAAE,cAAF,CAAiB,CAAC,IAAlB,CAAuB,UAAvB,EAAmC,EAAnC,CADA;eAEA,KAAK,CAAC,SAAN,CAAgB,EAAE,cAAF,CAAiB,CAAC,GAAlB,EAAhB,EAAyC,EAAE,cAAF,CAAiB,CAAC,GAAlB,EAAzC,EAAkE,SAAC,GAAD;AAC9D,cAAG,GAAH;AACI,cAAE,eAAF,CAAkB,CAAC,GAAnB,CAAuB,SAAvB,EAAiC,MAAjC;AAAA,YAEA,KAAC,WAAD,CAAY,8BAA8B,GAA1C,CAFA;mBAGA,KAAC,kBAAD,GAJJ;WAAA;AAMI,cAAE,eAAF,CAAkB,CAAC,GAAnB,CAAuB,SAAvB,EAAiC,MAAjC;AAAA,YACA,KAAC,cAAD,CAAe,2CAAf,CADA;AAAA,YAEA,KAAC,WAAD,CAAY,EAAZ,CAFA;mBAGA,KAAC,kBAAD,GATJ;WAD8D;QAAA,CAAlE,EAHoB;MAAA;IAAA,QAAxB,EAhBO;EAAA,CA9LX;;AAAA,qBA6NA,oBAAmB;AACf,QAAC,iBAAD,CAAkB,uCAAlB;AAAA,IACA,IAAC,cAAD,CAAe,EAAf,CADA;AAAA,IAEA,IAAC,WAAD,CAAY,EAAZ,CAFA;AAAA,IAGA,IAAC,gBAAD,CAAiB,KAAjB,CAHA;WAIA,KAAK,CAAC,YAAN,CAAmB;aAAA,SAAC,GAAD,EAAM,MAAN;AACf,YAAG,GAAH;AACI,eAAC,WAAD,CAAY,8BAA8B,GAA1C;iBACA,KAAC,kBAAD,GAFJ;SAAA,MAGK,IAAG,MAAH;AACD,eAAC,cAAD,CAAe,2DAAf;iBACA,KAAK,CAAC,iBAAN,CAAwB,SAAC,GAAD,EAAM,QAAN;AACpB,gBAAG,GAAH;AACI,mBAAC,cAAD,CAAe,yBAAf;AAAA,cACA,KAAC,WAAD,CAAY,8BAA8B,GAA1C,CADA;qBAEA,KAAC,kBAAD,GAHJ;aAAA,MAIK,IAAG,QAAH;AACD,mBAAC,cAAD,CAAe,wCAAf;AAAA,cACA,KAAC,WAAD,CAAY,EAAZ,CADA;AAAA,cAEA,KAAC,YAAD,CAAa,GAAb,CAFA;qBAGA,KAAC,kBAAD,GAJC;aAAA;AAMD,mBAAC,cAAD,CAAe,8DAAf;AAAA,cACA,KAAC,WAAD,CAAY,EAAZ,CADA;AAAA,cAEA,KAAC,YAAD,CAAa,GAAb,CAFA;qBAGA,KAAC,kBAAD,GATC;aALe;UAAA,CAAxB,EAFC;SAAA;AAkBD,eAAC,cAAD,CAAe,8EAAf;AAAA,UACA,KAAC,WAAD,CAAY,EAAZ,CADA;AAAA,UAEA,KAAC,YAAD,CAAa,GAAb,CAFA;iBAGA,KAAC,kBAAD,GArBC;SAJU;MAAA;IAAA,QAAnB,EALe;EAAA,CA7NnB;;AAAA,qBA6PA,sBAAqB;AACjB,QAAC,iBAAD,CAAkB,yCAAlB;AAAA,IACA,IAAC,cAAD,CAAe,EAAf,CADA;AAAA,IAEA,IAAC,WAAD,CAAY,EAAZ,CAFA;AAAA,IAGA,IAAC,gBAAD,CAAiB,KAAjB,CAHA;WAIA,KAAK,CAAC,qBAAN,CAA4B;aAAA,SAAC,GAAD,EAAM,MAAN;AACxB,YAAG,GAAH;AACI,eAAC,WAAD,CAAY,8BAA8B,GAA1C;iBACA,KAAC,kBAAD,GAFJ;SAAA,MAGK,IAAG,MAAH;AACD,eAAC,cAAD,CAAe,8FAAf;iBACA,KAAK,CAAC,mBAAN,CAA0B,SAAC,GAAD;AACtB,gBAAG,GAAH;AACI,mBAAC,cAAD,CAAe,4DAAf;AAAA,cACA,KAAC,WAAD,CAAY,8BAA8B,GAA1C,CADA;qBAEA,KAAC,kBAAD,GAHJ;aAAA;AAKI,mBAAC,cAAD,CAAe,6GAAf;AAAA,cACA,KAAC,YAAD,CAAa,CAAb,CADA;AAAA,cAEA,KAAC,gBAAD,CAAiB,IAAjB,CAFA;AAAA,cAGA,KAAC,WAAD,GAAc,UAHd;AAAA,cAIA,KAAC,WAAU,CAAC,IAAZ,GAAmB,CAJnB;AAAA,cAKA,KAAK,CAAC,2BAAN,CAAkC,KAAC,+BAAnC,CALA;qBAOA,KAAC,MAAD,GAAS,YAAY;uBACjB,KAAK,CAAC,2BAAN,CAAkC,KAAC,+BAAnC,EADiB;cAAA,CAAZ,EAER,GAFQ,EAZb;aADsB;UAAA,CAA1B,EAFC;SAAA;AAmBD,eAAC,cAAD,CAAe,8EAAf;AAAA,UACA,KAAC,WAAD,CAAY,EAAZ,CADA;AAAA,UAEA,KAAC,YAAD,CAAa,GAAb,CAFA;iBAGA,KAAC,kBAAD,GAtBC;SAJmB;MAAA;IAAA,QAA5B,EALiB;EAAA,CA7PrB;;AAAA,qBA8RA,iCAAgC,SAAC,GAAD,EAAM,MAAN;AAC5B;AAAA,QAAG,GAAH;aACI,OAAO,CAAC,GAAR,CAAY,GAAZ,EADJ;KAAA;AAGI,UAAG,MAAM,CAAC,IAAP,GAAc,IAAC,WAAU,CAAC,IAA7B;AACI,YAAC,WAAD,GAAc,MAAd;AAAA,QACA,UACA,MAAM,CAAC,IAAP,GAAc,0BAAd,GAA2C,MAAM,CAAC,KAAlD,GAA0D,GAF1D;AAGA,YAA8D,MAAM,CAAC,MAAP,KAAmB,CAAjF;AAAA,qBAAW,SAAS,MAAM,CAAC,MAAhB,GAAyB,sBAApC;SAHA;AAIA,YAAmE,MAAM,CAAC,QAAP,KAAqB,CAAxF;AAAA,qBAAW,SAAS,MAAM,CAAC,QAAhB,GAA2B,yBAAtC;SAJA;AAKA,YAA0E,MAAM,CAAC,WAAP,KAAwB,CAAlG;AAAA,qBAAW,SAAS,MAAM,CAAC,WAAhB,GAA8B,6BAAzC;SALA;AAMA,YAA8E,MAAM,CAAC,KAAP,KAAkB,CAAhG;AAAA,qBAAW,SAAS,MAAM,CAAC,KAAhB,GAAwB,uCAAnC;SANA;AAAA,QAQA,IAAC,WAAD,CAAY,OAAZ,CARA;AAAA,QASA,IAAC,YAAD,CAAa,CAAC,MAAI,MAAM,CAAC,IAAZ,IAAkB,MAAM,CAAC,KAAtC,CATA;AAWA,YAAG,MAAM,CAAC,IAAP,KAAe,MAAM,CAAC,KAAzB;AACI,cAAC,cAAD,CAAe,oCAAf;AAAA,UACA,cAAc,IAAC,MAAf,CADA;iBAGA,IAAC,kBAAD,GAJJ;SAZJ;OAHJ;KAD4B;EAAA,CA9RhC;;AAAA,qBAoTA,2BAA0B;AACtB,QAAC,iBAAD,CAAkB,iCAAlB;AAAA,IACA,IAAC,cAAD,CAAe,EAAf,CADA;AAAA,IAEA,IAAC,WAAD,CAAY,EAAZ,CAFA;AAAA,IAGA,IAAC,UAAD,GAAa,EAHb;AAAA,IAIA,IAAC,gBAAD,CAAiB,KAAjB,CAJA;WAKA,KAAK,CAAC,wBAAN,CAA+B;aAAA,SAAC,GAAD,EAAM,MAAN;AAC3B,YAAG,GAAH;AACI,eAAC,WAAD,CAAY,+BAA+B,GAA/B,GAAqC,2GAAjD;iBACA,KAAC,mBAAD,CAAoB,IAApB,EAFJ;SAAA,MAGK,IAAG,MAAH;AACD,eAAC,cAAD,CAAe,8IAAf;iBACA,KAAK,CAAC,sBAAN,CAA6B,SAAC,GAAD;AACzB,gBAAG,GAAH;AACI,mBAAC,cAAD,CAAe,0DAAf;AAAA,cACA,KAAC,WAAD,CAAY,+BAA+B,GAA/B,GAAqC,2GAAjD,CADA;qBAEA,KAAC,mBAAD,CAAoB,IAApB,EAHJ;aAAA;AAKI,mBAAK,CAAC,+BAAN,CAAsC,KAAC,oCAAvC;qBACA,KAAC,MAAD,GAAS,YAAY;uBACjB,KAAK,CAAC,+BAAN,CAAsC,KAAC,oCAAvC,EADiB;cAAA,CAAZ,EAER,GAFQ,EANb;aADyB;UAAA,CAA7B,EAFC;SAAA;AAaD,eAAC,cAAD,CAAe,8EAAf;AAAA,UACA,KAAC,WAAD,CAAY,EAAZ,CADA;AAAA,UAEA,KAAC,YAAD,CAAa,GAAb,CAFA;iBAGA,KAAC,kBAAD,GAhBC;SAJsB;MAAA;IAAA,QAA/B,EANsB;EAAA,CApT1B;;AAAA,qBAiVA,yBAAwB;AACpB,QAAC,iBAAD,CAAkB,iCAAlB;AAAA,IACA,IAAC,cAAD,CAAe,EAAf,CADA;AAAA,IAEA,IAAC,WAAD,CAAY,EAAZ,CAFA;AAAA,IAGA,IAAC,gBAAD,CAAiB,IAAjB,CAHA;AAAA,IAKA,IAAC,cAAD,CAAe,qGAAf,CALA;AAAA,IAMA,IAAC,YAAD,CAAa,CAAb,CANA;AAAA,IAOA,IAAC,gBAAD,CAAiB,IAAjB,CAPA;AAAA,IAQA,IAAC,WAAD,GAAc,UARd;AAAA,IASA,IAAC,WAAU,CAAC,IAAZ,GAAmB,CATnB;AAAA,IAUA,KAAK,CAAC,8BAAN,CAAqC,IAAC,kCAAtC,CAVA;WAYA,IAAC,MAAD,GAAS,YAAY;aAAA;eACjB,KAAK,CAAC,8BAAN,CAAqC,KAAC,kCAAtC,EADiB;MAAA;IAAA,QAAZ,EAER,GAFQ,EAbW;EAAA,CAjVxB;;AAAA,qBAkWA,oCAAmC,SAAC,GAAD,EAAM,MAAN;AAC/B;AAAA,QAAG,GAAH;aACI,OAAO,CAAC,GAAR,CAAY,GAAZ,EADJ;KAAA;AAGI,UAAG,MAAM,CAAC,IAAP,GAAc,IAAC,WAAU,CAAC,IAA7B;AACI,YAAC,WAAD,GAAc,MAAd;AAAA,QACA,UACA,MAAM,CAAC,IAAP,GAAc,0BAAd,GAA2C,MAAM,CAAC,KAAlD,GAA0D,GAF1D;AAGA,YAA8D,MAAM,CAAC,MAAP,KAAmB,CAAjF;AAAA,qBAAW,SAAS,MAAM,CAAC,MAAhB,GAAyB,sBAApC;SAHA;AAIA,YAAmE,MAAM,CAAC,QAAP,KAAqB,CAAxF;AAAA,qBAAW,SAAS,MAAM,CAAC,QAAhB,GAA2B,yBAAtC;SAJA;AAKA,YAA0E,MAAM,CAAC,WAAP,KAAwB,CAAlG;AAAA,qBAAW,SAAS,MAAM,CAAC,WAAhB,GAA8B,6BAAzC;SALA;AAMA,YAA8E,MAAM,CAAC,KAAP,KAAkB,CAAhG;AAAA,qBAAW,SAAS,MAAM,CAAC,KAAhB,GAAwB,uCAAnC;SANA;AAAA,QAQA,IAAC,WAAD,CAAY,OAAZ,CARA;AAAA,QASA,IAAC,YAAD,CAAa,CAAC,MAAI,MAAM,CAAC,IAAZ,IAAkB,MAAM,CAAC,KAAtC,CATA;AAWA,YAAG,MAAM,CAAC,IAAP,KAAe,MAAM,CAAC,KAAzB;AACI,cAAC,cAAD,CAAe,4DAAf;AAAA,UACA,IAAC,cAAD,CAAe,oCAAf,CADA;AAAA,UAEA,cAAc,IAAC,MAAf,CAFA;iBAIA,IAAC,kBAAD,GALJ;SAZJ;OAHJ;KAD+B;EAAA,CAlWnC;;AAAA,qBAyXA,sCAAqC,SAAC,GAAD,EAAM,IAAN,EAAY,IAAZ;AACjC,QAAC,KAAD,GAAQ,KAAR;AACA,QAAG,GAAH;AACI,aAAO,CAAC,GAAR,CAAY,GAAZ;AAAA,MACA,IAAC,cAAD,CAAe,0DAAf,CADA;AAAA,MAEA,IAAC,WAAD,CAAY,+BAA+B,GAA/B,GAAqC,2GAAjD,CAFA;aAGA,IAAC,kBAAD,GAJJ;KAAA;AAMI,UAAG,IAAI,CAAC,KAAL,KAAgB,IAAC,UAApB;AACI,YAAC,UAAD,GAAa,IAAI,CAAC,KAAlB;AAAA,QACA,IAAC,WAAD,CAAY,oCAAkC,IAAI,CAAC,KAAnD,CADA,CADJ;OAAA;AAGA,UAAG,IAAH;AACI,YAAC,cAAD,CAAe,0DAAf;AAAA,QACA,IAAC,cAAD,CAAe,qCAAf,CADA;AAAA,QAEA,cAAc,IAAC,MAAf,CAFA;eAGA,IAAC,uBAAD,GAJJ;OATJ;KAFiC;EAAA,CAzXrC;;AAAA,qBA0YA,cAAa;AACT;AAAA,WAAO,CAAC,GAAR,CAAY,QAAZ;AAAA,IACA,QAAQ,EADR;AAAA,IAEA,SAAS,SAAC,CAAD;AACL,WAAK,CAAC,IAAN,CAAW,CAAC,CAAC,OAAb;AACA,UAAG,KAAK,CAAC,QAAN,EAAgB,CAAC,OAAjB,CAAyB,+BAAzB,KAA6D,CAAhE;AACI,eAAO,IAAP,CAAY,CAAC,MAAb,CAAoB,SAApB,EAA+B,MAA/B;AAAA,QACA,OAAO,CAAC,GAAR,CAAY,KAAZ,CADA;eAEA,EAAE,MAAF,CAAS,CAAC,WAAV,CAAsB,2KAAtB,EAHJ;OAFK;IAAA,CAFT;WAQA,EAAE,QAAF,CAAW,CAAC,OAAZ,CAAoB,MAApB,EATS;EAAA,CA1Yb;;kBAAA;;GAFoC,SAJxC;;;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA","file":"public/javascripts/app.js","sourcesContent":["module.exports =\n\n    initialize: ->\n        # Used in inter-app communication\n        #SocketListener = require '../lib/socket_listener'\n\n        # Routing management\n        Router = require 'router'\n        @router = new Router()\n        Backbone.history.start()\n\n        # Makes this object immuable.\n        Object.freeze this if typeof Object.freeze is 'function'","app = require 'application'\n\n# The function called from index.html\n$ ->\n    require 'lib/app_helpers'\n\n    app.initialize()","(() ->\n    # IIFE to avoid collisions with other variables\n    (->\n        # Make it safe to do console.log() always.\n        console = window.console = window.console or {}\n        method = undefined\n        dummy = ->\n        methods = ('assert,count,debug,dir,dirxml,error,exception,\n                   group,groupCollapsed,groupEnd,info,log,markTimeline,\n                   profile,profileEnd,time,timeEnd,trace,warn').split ','\n\n        console[method] = console[method] or dummy while method = methods.pop()\n    )()\n)()\n","module.exports = class BaseView extends Backbone.View\n\n    template: ->\n\n    initialize: ->\n\n    getRenderData: ->\n        model: @model?.toJSON()\n\n    render: ->\n        @beforeRender()\n        @$el.html @template(@getRenderData())\n        @afterRender()\n        @\n\n    beforeRender: ->\n\n    afterRender: ->\n\n    destroy: ->\n        @undelegateEvents()\n        @$el.removeData().unbind()\n        @remove()\n        Backbone.View::remove.call @\n","# Make ajax request more easy to do.\n# Expected callbacks: success and error\nexports.request = (type, url, data, callbacks) ->\n\n    success = callbacks.success or (res) -> callbacks null, res\n    error = callbacks.error or (err) -> callbacks err\n\n\n    $.ajax\n        type: type\n        url: url\n        data: data\n        success: success\n        error: error\n\n# Sends a get request with data as body\n# Expected callbacks: success and error\nexports.get = (url, callbacks) ->\n    exports.request \"GET\", url, null, callbacks\n\n# Sends a post request with data as body\n# Expected callbacks: success and error\nexports.post = (url, data, callbacks) ->\n    exports.request \"POST\", url, data, callbacks\n\n# Sends a put request with data as body\n# Expected callbacks: success and error\nexports.put = (url, data, callbacks) ->\n    exports.request \"PUT\", url, data, callbacks\n\n# Sends a delete request with data as body\n# Expected callbacks: success and error\nexports.del = (url, callbacks) ->\n    exports.request \"DELETE\", url, null, callbacks\n","module.exports = class Utils\n    @changepsw: (oldPassword, newPassword, callback) =>\n        console.log \"c: \" + newPassword\n        console.log \"d: \" + oldPassword\n        $.ajax\n            type: \"POST\"\n            async: true\n            url: 'changePassword'\n            data:\n                newpassword: newPassword\n                oldpassword: oldPassword\n            complete: (xhr) ->\n                switch xhr.status\n                    when 200 then callback null\n                    when 304 then callback null\n                    when 504 then callback \"Connection timed out\"\n                    else\n                        callback xhr.responseText\n                        console.error xhr.responseJSON\n\n    @importMailAccount: (callback) ->\n        #Probably will do something cool, like making possible to see magic unicorn flying in the sky.\n        #Whith a magic cheese. whitout it, that would not be so awsome.\n        $.ajax\n            type: \"PUT\"\n            async: true\n            url: 'email'\n            complete: (xhr) ->\n                switch xhr.status\n                    when 200 then callback null, true\n                    when 304 then callback null, false\n                    when 504 then callback \"Connection timed out\"\n                    else\n                        callback xhr.responseText\n                        console.error xhr.responseJSON\n\n    @isMailActive: (callback) ->\n        $.ajax\n            type: \"GET\"\n            async: true\n            url: 'email'\n            complete: (xhr) ->\n                switch xhr.status\n                    when 200 then callback null, true\n                    when 418 then callback null, false\n                    when 504 then callback \"Connection timed out\"\n                    else\n                        callback xhr.responseText\n                        console.error xhr.responseJSON\n\n    @isAdminContactsActive: (callback) ->\n        $.ajax\n            type: \"GET\"\n            async: true\n            url: 'isAdminContactsActive'\n            complete: (xhr) ->\n                switch xhr.status\n                    when 200 then callback null, true\n                    when 418 then callback null, false\n                    when 504 then callback \"Connection timed out\"\n                    else\n                        callback xhr.responseText\n                        console.error xhr.responseJSON\n\n    @importAdminContacts: (callback) ->\n        $.ajax\n            type: \"PUT\"\n            dataType: \"text\"\n            async: true\n            url: 'contactsAdmin'\n            complete: (xhr) ->\n                switch xhr.status\n                    when 202 then callback null\n                    when 504 then callback \"Connection timed out\"\n                    else\n                        callback xhr.responseText\n                        console.error xhr.responseJSON\n\n    @getAdminImportContactStatus: (callback) ->\n        $.ajax\n            type: \"GET\"\n            dataType: \"json\"\n            async: true\n            url: 'contactsAdmin'\n            complete: (xhr) ->\n                if xhr.status is 200 \\\n                or xhr.status is 304 \\\n                or xhr.status is 201\n                    callback null, xhr.responseJSON\n                else if xhr.status is 504\n                    callback \"Connection timed out\"\n                else\n                    callback xhr.responseText\n                    console.error xhr.responseJSON\n\n    @isStudentsContactsActive: (callback) ->\n        $.ajax\n            type: \"GET\"\n            async: true\n            url: 'trombino/active'\n            complete: (xhr) ->\n                switch xhr.status\n                    when 200 then callback null, true\n                    when 418 then callback null, false\n                    when 504 then callback \"Connection timed out\"\n                    else\n                        callback xhr.responseText\n                        console.error xhr.responseJSON\n\n    @importStudentsContacts: (callback) ->\n        $.ajax\n            type: \"PUT\"\n            dataType: \"text\"\n            async: true\n            timeout: 600000\n            url: 'trombino/import'\n            complete: (xhr) ->\n                switch xhr.status\n                    when 202 then callback null\n                    when 504 then callback \"Connection timed out\"\n                    else\n                        callback xhr.responseText\n                        console.error xhr.responseJSON\n\n    @getStudentsImportContactStatus: (callback) ->\n        $.ajax\n            type: \"GET\"\n            dataType: \"json\"\n            async: true\n            url: 'trombino/import'\n            complete: (xhr) ->\n                if xhr.status is 200 \\\n                or xhr.status is 304 \\\n                or xhr.status is 201\n                    callback null, xhr.responseJSON\n                else if xhr.status is 504\n                    callback \"Connection timed out\"\n                else\n                    callback xhr.responseText\n                    console.error xhr.responseJSON\n\n    @getStudentsImportRetrieveStatus: (callback) ->\n        $.ajax\n            type: \"GET\"\n            dataType: \"json\"\n            async: true\n            url: 'trombino/status'\n            complete: (xhr) ->\n                if xhr.status is 201\n                    callback null, xhr.responseJSON, true\n                else if xhr.status is 200 \\\n                or xhr.status is 304\n                    callback null, xhr.responseJSON, false\n                else if xhr.status is 504\n                    callback \"Connection timed out\"\n                else\n                    callback xhr.responseText\n                    console.error xhr.responseJSON","BaseView = require 'lib/base_view'\n\n# View that display a collection of subitems\n# used to DRY views\n# Usage : new ViewCollection(collection:collection)\n# Automatically populate itself by creating a itemView for each item\n# in its collection\n\n# can use a template that will be displayed alongside the itemViews\n\n# itemView       : the Backbone.View to be used for items\n# itemViewOptions : the options that will be passed to itemViews\n# collectionEl : the DOM element's selector where the itemViews will\n#                be displayed. Automatically falls back to el if null\n\nmodule.exports = class ViewCollection extends BaseView\n\n    itemview: null\n\n    views: {}\n\n    template: -> ''\n\n    itemViewOptions: ->\n\n    collectionEl: null\n\n    # add 'empty' class to view when there is no subview\n    onChange: ->\n        @$el.toggleClass 'empty', _.size(@views) is 0\n\n    # can be overriden if we want to place the subviews somewhere else\n    appendView: (view) ->\n        @$collectionEl.append view.el\n\n    # bind listeners to the collection\n    initialize: ->\n        super\n        @views = {}\n        @listenTo @collection, \"reset\",   @onReset\n        @listenTo @collection, \"add\",     @addItem\n        @listenTo @collection, \"remove\",  @removeItem\n\n        if not @collectionEl?\n            collectionEl = el\n\n    # if we have views before a render call, we detach them\n    render: ->\n        view.$el.detach() for id, view of @views\n        super\n\n    # after render, we reattach the views\n    afterRender: ->\n        @$collectionEl = $(@collectionEl)\n        @appendView view.$el for id, view of @views\n        @onReset @collection\n        @onChange @views\n\n    # destroy all sub views before remove\n    remove: ->\n        @onReset []\n        super\n\n    # event listener for reset\n    onReset: (newcollection) ->\n        view.remove() for id, view of @views\n        newcollection.forEach @addItem\n\n    # event listeners for add\n    addItem: (model) =>\n        options = _.extend {}, {model: model}, @itemViewOptions(model)\n        view = new @itemview(options)\n        @views[model.cid] = view.render()\n        @appendView view\n        @onChange @views\n\n    # event listeners for remove\n    removeItem: (model) =>\n        @views[model.cid].remove()\n        delete @views[model.cid]\n\n        @onChange @views","AppView     = require 'views/app_view'\nPageView    = require 'views/page_view'\nLogoutView  = require 'views/logout_view'\n\nmodule.exports = class Router extends Backbone.Router\n\n    # We try to maintain some continuity within the display, like still displaying\n    # a correct page even when we have an error\n\n    routes:\n      ''         : 'init'\n      'login'    : 'login'\n      'logout'   : 'logout'\n      ':pagename': 'page'\n\n    init: ->\n      mainView = new AppView()\n      mainView.render()\n\n    login: ->\n      mainView = new AppView()\n      mainView.render()\n\n    page: (pagename) =>\n      if not pagename\n        pagename = \"\"\n      mainView = new PageView()\n      mainView.renderPage(pagename)\n\n    logout: =>\n      @url = ''\n      mainView = new LogoutView()\n      mainView.render()","BaseView = require '../lib/base_view'\nUtils = require '../lib/utils'\n\nmodule.exports = class AppView extends BaseView\n\n    el: 'body.application'\n    template: require('./templates/home')\n\n    events: =>\n\n    beforeRender: =>\n        $.ajax\n            url: 'login'\n            method: 'GET'\n            dataType: 'json'\n            complete: (xhr) =>\n                switch xhr.status\n                    when 200 then @goToDefaultService()\n                    when 401 then\n                    else console.error xhr.responseJSON or xhr.responseText\n\n    afterRender: =>\n        $('form').on 'submit', =>\n            @loginCAS()\n\n    loginCAS: =>\n        $('#authStatus').html ''\n        $('#submitButton').html '<img src=\"spinner-white.svg\">'\n        $.ajax\n            url: 'login'\n            method: 'POST'\n            data:\n                username: $('input#username').val()\n                password: $('input#password').val()\n            dataType: 'json'\n            complete: (xhr) =>\n                if xhr.status is 200\n                    $('input#username').attr(\"readonly\", \"\")\n                    $('input#password').attr(\"readonly\", \"\")\n\n                    @saveFormData()\n                    @buildOperationTodoList()\n                    if @operations.length > 0\n\n                        @currentOperation = 0\n                        @globalTimer = setInterval =>\n                            if @operations[@currentOperation].launched is false\n                                @operations[@currentOperation].functionToCall()\n                                @operations[@currentOperation].launched = true\n                            else if @operations[@currentOperation].terminated is true\n                                if @currentOperation+1 isnt @operations.length\n                                    @currentOperation++\n                                else\n                                    clearInterval @globalTimer\n                                    @setOperationName \"Configuration terminée\"\n                                    @setStatusText \"N'oubliez pas que vous pouvez relancer ces opérations depuis le menu de configuration de l'application.\"\n                                    @showProgressBar false\n                                    @setDetails \"\"\n\n                                    @showNextStepButton true, true\n                        , 500\n                    else\n                        @goToDefaultService()\n                else if xhr.status is 401\n                    $('#authStatus').html 'Login/mot de passe incorrect(s).'\n                    $('#submitButton').html 'Se connecter'\n                else\n                    $('#authStatus').html 'Une erreur est survenue du côté du serveur, merci de réessayer ultérieurement.'\n                    $('#submitButton').html 'Se connecter'\n                    console.error xhr\n\n    goToDefaultService: =>\n        $.ajax\n            type: \"GET\"\n            dataType: \"text\"\n            async: false\n            url: 'defaultService'\n            complete: (xhr) ->\n                if xhr.status is 200\n                    window.location = \"#\" + xhr.responseText\n                else if xhr.status is 504\n                    $('#authStatus').html \"Request timed out\"\n                else\n                    $('#authStatus').html 'Une erreur est survenue du côté du serveur, merci de réessayer ultérieurement.'\n                    console.error xhr\n\n    buildOperationTodoList: =>\n        @operations = new Array\n\n        @operations.push\n            functionToCall: @changepsw\n            launched: false\n            terminated: false\n\n        @operations.push\n            functionToCall: @importMailAccount\n            launched: false\n            terminated: false\n\n        @operations.push\n            functionToCall: @importAdminContacts\n            launched: false\n            terminated: false\n\n        @operations.push\n            functionToCall: @retrieveStudentsContacts\n            launched: false\n            terminated: false\n\n        @operations.push\n            functionToCall: @importStudentsContacts\n            launched: false\n            terminated: false\n\n    setOperationName: (operationName) =>\n        $('#OperationName').html operationName\n\n    setStatusText: (statusText) =>\n        $('#statusText').html statusText\n\n    setProgress: (progress) =>\n        $('#progress').width progress + \"%\"\n\n    setDetails: (details) =>\n        $('#details').html details\n\n    showProgressBar: (bool) =>\n        if bool\n            $('#progressParent').css('display', 'block')\n        else\n            $('#progressParent').css('display', 'none')\n\n    showNextStepButton: (bool, end) =>\n        if bool\n            if end\n                $('#nextStepButton').html \"Terminer\"\n                $('#nextStepButton').one 'click', =>\n                    @goToDefaultService()\n                    @showNextStepButton false\n            else\n                $('#nextStepButton').one 'click', =>\n                    @operations[@currentOperation].terminated = true\n                    @showNextStepButton false\n            $('#nextStepButton').css('display', 'block')\n        else\n            $('#nextStepButton').css('display', 'none')\n\n    saveFormData: =>\n        @formData = new Object\n        @formData.username = $('input#username').val()\n        @formData.password = $('input#password').val()\n\n    changepsw: =>\n        @setOperationName \"Changement de votre mot de passe\"\n        @setStatusText \"Il devrait contenir au moins 8 caractères. Les caractères spéciaux sont fortement recommandés.\"\n        @setDetails \"\"\n        @showProgressBar false\n\n        form =\n            \"\"\"\n            <form onSubmit=\"return false\" id=\"authForm\">\n                <input type=\"password\" id=\"newpassword\" placeholder=\"Nouveau mot de passe\" required/><br/>\n                <button type=\"submit\" id=\"submitButton\" class=\"button\">Changer mon mot de passe</button>\n            </form>\n            <div id=\"authStatus\"></div>\n            \"\"\"\n        @setDetails form\n        $('form').one 'submit', =>\n            $('#submitButton').html '<img src=\"spinner-white.svg\">'\n            $('#newpassword').attr(\"readonly\", \"\")\n            console.log \"a \" + @formData.password\n            console.log \"b \" + $('#newpassword').val()\n            Utils.changepsw @formData.password, $('#newpassword').val(), (err) =>\n                if err\n                    $('#submitButton').css('display','none')\n                    #$('#authStatus').html 'Une erreur fatale est survenue: ' + err + '<br>Impossible de continuer.'\n                    @setDetails \"Une erreur est survenue: \" + err + \"<br>Vous pourez changer votre mot de passe ultérieurement depuis le menu configuration de l'application.\"\n                    @showNextStepButton true\n                else\n                    $('#submitButton').css('display','none')\n                    @formData.password = $('#newpassword').val()\n                    @setStatusText \"Votre mot de passe à bien été mis à jour.\"\n                    @setDetails \"\"\n                    @showNextStepButton true\n\n    importMailAccount: =>\n        @setOperationName \"Importation de votre compte mail ISEN\"\n        @setStatusText \"\"\n        @setDetails \"\"\n        @showProgressBar false\n        Utils.isMailActive (err, active) =>\n            if err\n                @setDetails \"Une erreur est survenue: \" + err + \"<br>Vous pourez relancer l'importation du compte mail depuis le menu configuration de l'application.\"\n                @showNextStepButton true\n            else if active\n                @setStatusText 'Importation en cours...<img id=spinner src=\"spinner.svg\">'\n                Utils.importMailAccount (err, imported) =>\n                    if err\n                        @setStatusText 'Importation en cours...'\n                        @setDetails \"Une erreur est survenue : \" + err + \"<br>Vous pourez relancer l'importation de votre mail ISEN depuis le menu configuration de l'application.\"\n                        @showNextStepButton true\n                    else if imported\n                        @setStatusText \"Importation du compte e-mail terminée.\"\n                        @setDetails \"\"\n                        @setProgress 100\n                        @showNextStepButton true\n                    else\n                        @setStatusText \"Votre compte e-mail ISEN est déjà configuré dans votre Cozy.\"\n                        @setDetails \"\"\n                        @setProgress 100\n                        @showNextStepButton true\n            else\n                @setStatusText \"Cette fonctionnalité a été désactivée par l'administrateur de l'application.\"\n                @setDetails \"\"\n                @setProgress 100\n                @showNextStepButton true\n\n    importAdminContacts: =>\n        @setOperationName \"Importation des contacts administratifs\"\n        @setStatusText \"\"\n        @setDetails \"\"\n        @showProgressBar false\n        Utils.isAdminContactsActive (err, active) =>\n            if err\n                @setDetails \"Une erreur est survenue : \" + err + \"<br>Vous pourez relancer l'importation des contacts administratifs depuis le menu configuration de l'application.\"\n                @showNextStepButton true\n            else if active\n                @setStatusText 'Etape 1/2 : Récupération des contacts depuis le serveur...<img id=spinner src=\"spinner.svg\">'\n                Utils.importAdminContacts (err) =>\n                    if err\n                        @setStatusText 'Etape 1/2 : Récupération des contacts depuis le serveur...'\n                        @setDetails \"Une erreur est survenue: \" + err + \"<br>Vous pourez relancer l'importation des contacts administratifs depuis le menu configuration de l'application.\"\n                        @showNextStepButton true\n                    else\n                        @setStatusText 'Etape 2/2 : Enregistrement des contacts administratifs dans votre cozy...<img id=spinner src=\"spinner.svg\">'\n                        @setProgress 0\n                        @showProgressBar true\n                        @lastStatus = new Object\n                        @lastStatus.done = 0\n                        Utils.getAdminImportContactStatus @checkAdminContactsImportStatus\n\n                        @timer = setInterval =>\n                            Utils.getAdminImportContactStatus @checkAdminContactsImportStatus\n                        ,200\n            else\n                @setStatusText \"Cette fonctionnalité a été désactivée par l'administrateur de l'application.\"\n                @setDetails \"\"\n                @setProgress 100\n                @showNextStepButton true\n\n    checkAdminContactsImportStatus: (err, status) =>\n        if err\n            console.log err\n        else\n            if status.done > @lastStatus.done\n                @lastStatus = status\n                details =\n                status.done + \" contact(s) traités sur \" + status.total + \".\"\n                details += \"<br>\" + status.succes + \" contact(s) crée(s).\" if status.succes isnt 0\n                details += \"<br>\" + status.modified + \" contact(s) modifié(s).\" if status.modified isnt 0\n                details += \"<br>\" + status.notmodified + \" contact(s) non modifié(s).\" if status.notmodified isnt 0\n                details += \"<br>\" + status.error + \" contact(s) n'ont pu être importé(s).\" if status.error isnt 0\n\n                @setDetails details\n                @setProgress (100*status.done)/status.total\n\n                if status.done is status.total\n                    @setStatusText \"Importation des contacts terminée.\"\n                    clearInterval @timer\n\n                    @showNextStepButton true\n\n    retrieveStudentsContacts: =>\n        @setOperationName \"Importation des contacts élèves\"\n        @setStatusText \"\"\n        @setDetails \"\"\n        @lastGroup = \"\"\n        @showProgressBar false\n        Utils.isStudentsContactsActive (err, active) =>\n            if err\n                @setDetails \"Une erreur est survenue : \" + err + \"<br>Vous pourez relancer l'importation des contacts élèves depuis le menu configuration de l'application.\"\n                @showNextStepButton true\n            else if active\n                @setStatusText 'Etape 1/2 : Récupération des contacts depuis le serveur. Cette opération peut prendre plusieurs minutes...<img id=spinner src=\"spinner.svg\">'\n                Utils.importStudentsContacts (err) =>\n                    if err\n                        @setStatusText 'Etape 1/2 : Récupération des contacts depuis le serveur.'\n                        @setDetails \"Une erreur est survenue : \" + err + \"<br>Vous pourez relancer l'importation des contacts élèves depuis le menu configuration de l'application.\"\n                        @showNextStepButton true\n                    else\n                        Utils.getStudentsImportRetrieveStatus @checkStudentsContactsRetrieveStatus\n                        @timer = setInterval =>\n                            Utils.getStudentsImportRetrieveStatus @checkStudentsContactsRetrieveStatus\n                        ,500\n            else\n                @setStatusText \"Cette fonctionnalité a été désactivée par l'administrateur de l'application.\"\n                @setDetails \"\"\n                @setProgress 100\n                @showNextStepButton true\n\n\n    importStudentsContacts: =>\n        @setOperationName \"Importation des contacts élèves\"\n        @setStatusText \"\"\n        @setDetails \"\"\n        @showProgressBar true\n\n        @setStatusText 'Etape 2/2 : Enregistrement des contacts élèves dans votre cozy...<img id=spinner src=\"spinner.svg\">'\n        @setProgress 0\n        @showProgressBar true\n        @lastStatus = new Object\n        @lastStatus.done = 0\n        Utils.getStudentsImportContactStatus @checkStudentsContactsImportStatus\n\n        @timer = setInterval =>\n            Utils.getStudentsImportContactStatus @checkStudentsContactsImportStatus\n        ,200\n\n    checkStudentsContactsImportStatus: (err, status) =>\n        if err\n            console.log err\n        else\n            if status.done > @lastStatus.done\n                @lastStatus = status\n                details =\n                status.done + \" contact(s) traités sur \" + status.total + \".\"\n                details += \"<br>\" + status.succes + \" contact(s) crée(s).\" if status.succes isnt 0\n                details += \"<br>\" + status.modified + \" contact(s) modifié(s).\" if status.modified isnt 0\n                details += \"<br>\" + status.notmodified + \" contact(s) non modifié(s).\" if status.notmodified isnt 0\n                details += \"<br>\" + status.error + \" contact(s) n'ont pu être importé(s).\" if status.error isnt 0\n\n                @setDetails details\n                @setProgress (100*status.done)/status.total\n\n                if status.done is status.total\n                    @setStatusText 'Etape 2/2 : Enregistrement des contacts dans votre cozy...'\n                    @setStatusText \"Importation des contacts terminée.\"\n                    clearInterval @timer\n\n                    @showNextStepButton true\n\n    checkStudentsContactsRetrieveStatus: (err, json, over) =>\n        @over = false\n        if err\n            console.log err\n            @setStatusText 'Etape 1/2 : Récupération des contacts depuis le serveur.'\n            @setDetails \"Une erreur est survenue : \" + err + \"<br>Vous pourez relancer l'importation des contacts élèves depuis le menu configuration de l'application.\"\n            @showNextStepButton true\n        else\n            if json.group isnt @lastGroup\n                @lastGroup = json.group\n                @setDetails 'En train d\\'explorer le groupe '+json.group\n            if over\n                @setStatusText 'Etape 1/2 : Récupération des contacts depuis le serveur.'\n                @setStatusText \"Récupération des contacts terminée.\"\n                clearInterval @timer\n                @operations[@currentOperation].terminated = true","BaseView  = require '../lib/base_view'\n\nmodule.exports = class LogoutView extends BaseView\n\n    el: 'body'\n    template: require './templates/logout'\n\n    events: =>\n\n    getRenderData: ->\n        res =\n            url: @url\n\n    beforeRender: =>\n        @serviceData = new Array\n        $.ajax\n            type: \"GET\"\n            dataType: \"json\"\n            async: false\n            url: 'servicesList'\n            complete: (xhr) =>\n                if xhr.status is 200\n                    data = xhr.responseJSON\n                    for key, service of data\n                        if service.clientLogoutUrl\n                            @serviceData.push\n                                name: service.displayName\n                                logOutUrl: service.clientLogoutUrl\n                    @logoutStatus =\n                        numServicesToLogOut: @serviceData.length + 1#+1 for server deco\n                        numServicesLoggedOut: 0\n                else if xhr.status is 504\n                    @serviceData.err = \"Connection timed out\"\n                else\n                    @serviceData.err = err\n\n    logout: ->\n\n\n    afterRender: =>\n        @timoutId = setTimeout =>\n            console.log \"Certains services n'ont pas répondus à temps sur leur url de déconnexion. Vous allez être tout de même redirigé sur la page de login.\"\n            window.location = \"#login\"\n        , 5000\n        console.log \"Déconnexion de l'application cozy...\"\n        $.ajax\n            type: \"GET\"\n            dataType: \"json\"\n            async: true\n            url: \"logout\"\n            complete: (xhr) =>\n                if xhr.status is 200\n                    data = xhr.responseJSON\n                    if data.error\n                        console.log \"L'application cozy à renvoyée l'erreur suivante: \" + data.error\n                    else\n                        console.log \"L'application cozy est déconnectée du serveur CAS.\"\n                        @checkLogout()\n                if xhr.status is 504\n                    console.error \"Connection timed out\"\n                else\n                    console.log \"Impossible de joindre l'application cozy: \" + err\n\n        if not @serviceData.err\n            for key, service of @serviceData\n                console.log 'Déconnexion du service ' + service.name + ' sur l\\'url ' + service.logOutUrl + ' ...'\n                onLoad = =>\n                    sname = service.name\n                    return =>\n                        console.log 'Service ' + sname + ' déconecté.'\n                        @checkLogout()\n                $(\"#logoutIframes\").append('<iframe src=\"' + service.logOutUrl + '\"></iframe>')\n                .children().last().one \"load\", onLoad()\n        else\n            console.log 'Une erreur est survenue lors de la récupération de la liste des services: ' + @serviceData.err\n\n    checkLogout: =>\n        @logoutStatus.numServicesLoggedOut++\n        if @logoutStatus.numServicesLoggedOut is @logoutStatus.numServicesToLogOut\n            console.log 'Déconnexion de tout les services et du serveur CAS effectuée.'\n            clearTimeout(@timoutId)\n            window.location = \"#login\"\n","BaseView  = require '../lib/base_view'\nAppView   = require 'views/app_view'\nUtils     = require '../lib/utils'\n\nmodule.exports = class PageView extends BaseView\n\n    el: 'body'\n    template: require './templates/page'\n\n    error: ''\n\n    events: =>\n        'click #closeError': 'hideError'\n        'keydown': 'hideError'\n\n    isOperationActive: false\n\n    getRenderData: ->\n        res =\n            url: @url\n\n    renderPage: (pageid) =>\n        @pageid = pageid\n        $.ajax\n            type: \"GET\"\n            dataType: \"json\"\n            async: false\n            url: 'authUrl/'+pageid\n            complete: (xhr) =>\n                switch xhr.status\n                    when 401 then window.location = \"#login\"\n                    when 400\n                        #@error = t(\"unknown service\")+\" \"+pageid\n                        @error = \"Unknown service \"+pageid\n                        @url = \"\"\n                    when 200 then @url = xhr.responseJSON.url\n                    when 504 then @error = \"Request timed out\"\n                    else\n                        @error = xhr.responseText\n                        console.log xhr.responseJSON\n                document.title = window.location\n                @render()\n\n    afterRender: =>\n        @clocheLapin()\n        if @error\n            @showError @error\n        $.ajax\n            type: \"GET\"\n            dataType: \"json\"\n            async: false\n            url: 'servicesList'\n            complete: (xhr) =>\n                if xhr.status is 200\n                    data = xhr.responseJSON\n                    ##\n                    menu = new Array\n                    for key, service of data\n                        if menu[service.category] is undefined\n                            menu[service.category] = new Array\n                        menu[service.category].push service\n\n                    for categorie, tabService of menu\n                        menuList = '<li><span>' + categorie + '</span><ul>'\n                        for key, service of tabService\n                            idCurrentService = \"\"\n                            if service.clientServiceUrl is @pageid\n                                idCurrentService = ' id=\"currentService\"'\n                                if service.clientRedirectPage\n                                    @redirectUrl = service.clientRedirectPage\n                                    if service.clientRedirectTimeOut\n                                        setTimeout =>\n                                            $(\"#app\").attr(\"src\", @redirectUrl)\n                                        , service.clientRedirectTimeOut\n                                    else\n                                        $(\"#app\").one \"load\", =>\n                                            $(\"#app\").attr(\"src\", @redirectUrl)\n                            li =\n                                '<li class=\"serviceButton\"'+idCurrentService+'>\n                                    <a href=\"#'+service.clientServiceUrl+'\">\n                                        <i class=\"'+service.clientIcon+'\"></i>\n                                        <span>'+service.displayName+'</span>\n                                    </a>\n                                </li>'\n                            menuList += li\n                        menuList += '</ul></li>'\n                        $(\"#servicesMenu\").append(menuList)\n                else if xhr.status is 504\n                    @showError \"Request timed out\"\n                else\n                    data = xhr\n                    @showError data.status + \" : \" + data.statusText + \"<br>\" + data.responseText\n        @bindMenuOp()\n\n    showError: (err) =>\n        $(\"#errorText\").html err\n        $(\"#errors\").removeClass 'off-error'\n        $(\"#errors\").addClass 'on-error'\n\n    hideError: (e)=>\n        if e.type is \"click\" or e.keyCode is 13 or e.keyCode is 27\n            $(\"#errors\").removeClass 'on-error'\n            $(\"#errors\").addClass 'off-error'\n\n    #### Redo onboarding operation\n    bindMenuOp: =>\n        that = this\n\n        $('.paramsButton').on 'click', ->\n            $('#modalBackground').css 'display', 'block'\n            $('#replayOp').css 'display', 'block'\n\n        $('#close').on 'click', ->\n            if not that.isOperationActive\n                $('#modalBackground').css 'display', 'none'\n                $('#replayOp').css 'display', 'none'\n\n        $('#mail').on 'click', ->\n            if not that.isOperationActive\n                $(this).addClass('active')\n                that.enableButtons false\n                that.isOperationActive = true\n                that.importMailAccount()\n\n        $('#ca').on 'click', ->\n            if not that.isOperationActive\n                $(this).addClass('active')\n                that.enableButtons false\n                that.isOperationActive = true\n                that.importAdminContacts()\n\n        $('#ce').on 'click', ->\n            if not that.isOperationActive\n                $(this).addClass('active')\n                that.enableButtons false\n                that.isOperationActive = true\n                that.retrieveStudentsContacts()\n\n        $('#pass').on 'click', ->\n            if not that.isOperationActive\n                $(this).addClass('active')\n                that.enableButtons false\n                that.isOperationActive = true\n                that.changepsw()\n\n        $('#raz').on 'click', =>\n            if not that.isOperationActive\n                $(this).addClass('active')\n                that.enableButtons false\n                window.location = '#logout'\n\n    enableButtons: (bool) =>\n        if bool\n            $('#mail').removeClass('active').removeClass('inactive')\n            $('#ca').removeClass('active').removeClass('inactive')\n            $('#ce').removeClass('active').removeClass('inactive')\n            $('#pass').removeClass('active').removeClass('inactive')\n            $('#raz').removeClass('active').removeClass('inactive')\n            $('#close').removeClass('closeInactive')\n        else\n            $('#mail').addClass('inactive')\n            $('#ca').addClass('inactive')\n            $('#ce').addClass('inactive')\n            $('#pass').addClass('inactive')\n            $('#raz').addClass('inactive')\n            $('#close').addClass('closeInactive')\n\n    setOperationName: (operationName) =>\n        $('#OperationName').html operationName\n\n    setStatusText: (statusText) =>\n        $('#statusText').html statusText\n\n    setProgress: (progress) =>\n        $('#progress').width progress + \"%\"\n\n    setDetails: (details) =>\n        $('#details').html details\n\n    showProgressBar: (bool) =>\n        if bool\n            $('#progressParent').css('display', 'block')\n        else\n            $('#progressParent').css('display', 'none')\n\n    showEndStepButton: =>\n        $('#nextStepButton').one 'click', =>\n            @isOperationActive = false\n            @enableButtons true\n            @setOperationName \"\"\n            @setStatusText \"\"\n            @setDetails \"\"\n            @showProgressBar false\n            $('#nextStepButton').css('display', 'none')\n        $('#nextStepButton').css('display', 'block')\n\n    changepsw: =>\n        @setOperationName \"Changement de votre mot de passe\"\n        @setStatusText \"Il devrait contenir au moins 8 caractères. Les caractères spéciaux sont fortement recommandés.\"\n        @setDetails \"\"\n        @showProgressBar false\n\n        form =\n            \"\"\"\n            <form onSubmit=\"return false\" id=\"authForm\">\n                <input type=\"password\" id=\"oldpassword\" placeholder=\"Ancien mot de passe\" required/><br/>\n                <input type=\"password\" id=\"newpassword\" placeholder=\"Nouveau mot de passe\" required/><br/>\n                <button type=\"submit\" id=\"submitButton\" class=\"button\">Changer mon mot de passe</button>\n            </form>\n            <div id=\"authStatus\"></div>\n            \"\"\"\n        @setDetails form\n        $('form').one 'submit', =>\n            $('#submitButton').html '<img src=\"spinner-white.svg\">'\n            $('#newpassword').attr(\"readonly\", \"\")\n            Utils.changepsw $('#oldpassword').val(), $('#newpassword').val(), (err) =>\n                if err\n                    $('#submitButton').css('display','none')\n                    #$('#authStatus').html 'Une erreur fatale est survenue: ' + err + '<br>Impossible de continuer.'\n                    @setDetails \"Une erreur est survenue: \" + err\n                    @showEndStepButton()\n                else\n                    $('#submitButton').css('display','none')\n                    @setStatusText \"Votre mot de passe à bien été mis à jour.\"\n                    @setDetails \"\"\n                    @showEndStepButton()\n\n    importMailAccount: =>\n        @setOperationName \"Importation de votre compte mail ISEN\"\n        @setStatusText \"\"\n        @setDetails \"\"\n        @showProgressBar false\n        Utils.isMailActive (err, active) =>\n            if err\n                @setDetails \"Une erreur est survenue: \" + err\n                @showEndStepButton()\n            else if active\n                @setStatusText 'Importation en cours...<img id=spinner src=\"spinner.svg\">'\n                Utils.importMailAccount (err, imported) =>\n                    if err\n                        @setStatusText 'Importation en cours...'\n                        @setDetails \"Une erreur est survenue: \" + err\n                        @showEndStepButton()\n                    else if imported\n                        @setStatusText \"Importation du compte e-mail terminée.\"\n                        @setDetails \"\"\n                        @setProgress 100\n                        @showEndStepButton()\n                    else\n                        @setStatusText \"Votre compte e-mail ISEN est déjà configuré dans votre Cozy.\"\n                        @setDetails \"\"\n                        @setProgress 100\n                        @showEndStepButton()\n            else\n                @setStatusText \"Cette fonctionnalité a été désactivée par l'administrateur de l'application.\"\n                @setDetails \"\"\n                @setProgress 100\n                @showEndStepButton()\n\n    importAdminContacts: =>\n        @setOperationName \"Importation des contacts administratifs\"\n        @setStatusText \"\"\n        @setDetails \"\"\n        @showProgressBar false\n        Utils.isAdminContactsActive (err, active) =>\n            if err\n                @setDetails \"Une erreur est survenue: \" + err\n                @showEndStepButton()\n            else if active\n                @setStatusText 'Etape 1/2 : Récupération des contacts depuis le serveur...<img id=spinner src=\"spinner.svg\">'\n                Utils.importAdminContacts (err) =>\n                    if err\n                        @setStatusText 'Etape 1/2 : Récupération des contacts depuis le serveur...'\n                        @setDetails \"Une erreur est survenue: \" + err\n                        @showEndStepButton()\n                    else\n                        @setStatusText 'Etape 2/2 : Enregistrement des contacts administratifs dans votre cozy...<img id=spinner src=\"spinner.svg\">'\n                        @setProgress 0\n                        @showProgressBar true\n                        @lastStatus = new Object\n                        @lastStatus.done = 0\n                        Utils.getAdminImportContactStatus @checkAdminContactsImportStatus\n\n                        @timer = setInterval =>\n                            Utils.getAdminImportContactStatus @checkAdminContactsImportStatus\n                        ,200\n            else\n                @setStatusText \"Cette fonctionnalité a été désactivée par l'administrateur de l'application.\"\n                @setDetails \"\"\n                @setProgress 100\n                @showEndStepButton()\n\n    checkAdminContactsImportStatus: (err, status) =>\n        if err\n            console.log err\n        else\n            if status.done > @lastStatus.done\n                @lastStatus = status\n                details =\n                status.done + \" contact(s) traités sur \" + status.total + \".\"\n                details += \"<br>\" + status.succes + \" contact(s) crée(s).\" if status.succes isnt 0\n                details += \"<br>\" + status.modified + \" contact(s) modifié(s).\" if status.modified isnt 0\n                details += \"<br>\" + status.notmodified + \" contact(s) non modifié(s).\" if status.notmodified isnt 0\n                details += \"<br>\" + status.error + \" contact(s) n'ont pu être importé(s).\" if status.error isnt 0\n\n                @setDetails details\n                @setProgress (100*status.done)/status.total\n\n                if status.done is status.total\n                    @setStatusText \"Importation des contacts terminée.\"\n                    clearInterval @timer\n\n                    @showEndStepButton()\n\n    retrieveStudentsContacts: =>\n        @setOperationName \"Importation des contacts élèves\"\n        @setStatusText \"\"\n        @setDetails \"\"\n        @lastGroup = \"\"\n        @showProgressBar false\n        Utils.isStudentsContactsActive (err, active) =>\n            if err\n                @setDetails \"Une erreur est survenue : \" + err + \"<br>Vous pourez relancer l'importation des contacts élèves depuis le menu configuration de l'application.\"\n                @showNextStepButton true\n            else if active\n                @setStatusText 'Etape 1/2 : Récupération des contacts depuis le serveur. Cette opération peut prendre plusieurs minutes...<img id=spinner src=\"spinner.svg\">'\n                Utils.importStudentsContacts (err) =>\n                    if err\n                        @setStatusText 'Etape 1/2 : Récupération des contacts depuis le serveur.'\n                        @setDetails \"Une erreur est survenue : \" + err + \"<br>Vous pourez relancer l'importation des contacts élèves depuis le menu configuration de l'application.\"\n                        @showNextStepButton true\n                    else\n                        Utils.getStudentsImportRetrieveStatus @checkStudentsContactsRetrieveStatus\n                        @timer = setInterval =>\n                            Utils.getStudentsImportRetrieveStatus @checkStudentsContactsRetrieveStatus\n                        ,500\n            else\n                @setStatusText \"Cette fonctionnalité a été désactivée par l'administrateur de l'application.\"\n                @setDetails \"\"\n                @setProgress 100\n                @showEndStepButton()\n\n\n    importStudentsContacts: =>\n        @setOperationName \"Importation des contacts élèves\"\n        @setStatusText \"\"\n        @setDetails \"\"\n        @showProgressBar true\n\n        @setStatusText 'Etape 2/2 : Enregistrement des contacts élèves dans votre cozy...<img id=spinner src=\"spinner.svg\">'\n        @setProgress 0\n        @showProgressBar true\n        @lastStatus = new Object\n        @lastStatus.done = 0\n        Utils.getStudentsImportContactStatus @checkStudentsContactsImportStatus\n\n        @timer = setInterval =>\n            Utils.getStudentsImportContactStatus @checkStudentsContactsImportStatus\n        ,200\n\n    checkStudentsContactsImportStatus: (err, status) =>\n        if err\n            console.log err\n        else\n            if status.done > @lastStatus.done\n                @lastStatus = status\n                details =\n                status.done + \" contact(s) traités sur \" + status.total + \".\"\n                details += \"<br>\" + status.succes + \" contact(s) crée(s).\" if status.succes isnt 0\n                details += \"<br>\" + status.modified + \" contact(s) modifié(s).\" if status.modified isnt 0\n                details += \"<br>\" + status.notmodified + \" contact(s) non modifié(s).\" if status.notmodified isnt 0\n                details += \"<br>\" + status.error + \" contact(s) n'ont pu être importé(s).\" if status.error isnt 0\n\n                @setDetails details\n                @setProgress (100*status.done)/status.total\n\n                if status.done is status.total\n                    @setStatusText 'Etape 2/2 : Enregistrement des contacts dans votre cozy...'\n                    @setStatusText \"Importation des contacts terminée.\"\n                    clearInterval @timer\n\n                    @showEndStepButton()\n\n    checkStudentsContactsRetrieveStatus: (err, json, over) =>\n        @over = false\n        if err\n            console.log err\n            @setStatusText 'Etape 1/2 : Récupération des contacts depuis le serveur.'\n            @setDetails \"Une erreur est survenue : \" + err + \"<br>Vous pourez relancer l'importation des contacts élèves depuis le menu configuration de l'application.\"\n            @showEndStepButton()\n        else\n            if json.group isnt @lastGroup\n                @lastGroup = json.group\n                @setDetails 'En train d\\'explorer le groupe '+json.group\n            if over\n                @setStatusText 'Etape 1/2 : Récupération des contacts depuis le serveur.'\n                @setStatusText \"Récupération des contacts terminée.\"\n                clearInterval @timer\n                @importStudentsContacts()\n\n    clocheLapin: =>\n        console.log \"knvdnv\"\n        kKeys = []\n        Kpress = (e) ->\n            kKeys.push e.keyCode\n            if kKeys.toString().indexOf(\"38,38,40,40,37,39,37,39,66,65\") >= 0\n                jQuery(this).unbind('keydown', Kpress)\n                console.log \"gng\"\n                $('#app').replaceWith('<iframe width=\"420\" height=\"315\" src=\"https://www.youtube.com/embed/dQw4w9WgXcQ?rel=0&amp;controls=0&amp;showinfo=0&autoplay=1\" frameborder=\"0\" allowfullscreen></iframe>')\n        $(document).keydown(Kpress)","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<div id=\\\"content\\\"><div id=\\\"ImportingStatus\\\"><img id=\\\"logo\\\" src=\\\"isenlogo.png\\\"/><p id=\\\"OperationName\\\">Connexion à l'ENT</p><p id=\\\"statusText\\\">Veuillez renseigner vos identifiants CAS:</p><div id=\\\"progressParent\\\"><div id=\\\"progress\\\"></div></div><div id=\\\"details\\\"><form onSubmit=\\\"return false\\\" id=\\\"authForm\\\"><input type=\\\"text\\\" id=\\\"username\\\" placeholder=\\\"Nom d'utilisateur\\\" required=\\\"required\\\"/><br/><input type=\\\"password\\\" id=\\\"password\\\" placeholder=\\\"Mot de passe\\\" required=\\\"required\\\"/><br/><button type=\\\"submit\\\" id=\\\"submitButton\\\" class=\\\"button\\\">Se connecter</button></form><div id=\\\"authStatus\\\"></div></div><button type=\\\"button\\\" id=\\\"nextStepButton\\\" class=\\\"button\\\">Passer à l'étape suivante</button></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<div id=\\\"home\\\"><div id=\\\"status\\\">Déconnexion...</div><div id=\\\"logoutIframes\\\" style=\\\"display:none\\\"></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),url = locals_.url;\nbuf.push(\"<div id=\\\"content\\\"><div id=\\\"errors\\\"><p>Erreur</p><p id=\\\"errorText\\\"></p><span id=\\\"closeError\\\" class=\\\"on-error\\\">ok</span></div><div id=\\\"modalBackground\\\"></div><div id=\\\"replayOp\\\"><i id=\\\"close\\\" class=\\\"fa fa-times\\\"></i><p id=\\\"replayTitle\\\">Configuration</p><ul><li id=\\\"mail\\\">Importer mon compte mail ISEN</li><li id=\\\"ca\\\">Importer les contacts administratifs</li><li id=\\\"ce\\\">Importer les contacts élèves</li><li id=\\\"pass\\\">Changer mon mot de passe</li><li id=\\\"raz\\\">Réinitialiser l'application</li></ul><p id=\\\"OperationName\\\"></p><p id=\\\"statusText\\\"></p><div id=\\\"progressParent\\\"><div id=\\\"progress\\\"></div></div><div id=\\\"details\\\"></div><button type=\\\"button\\\" id=\\\"nextStepButton\\\" class=\\\"button\\\">Terminer</button></div><div id=\\\"sidebar\\\"><ul id=\\\"servicesMenu\\\"></ul><span class=\\\"paramsButton\\\"><i class=\\\"fa fa-cog\\\"></i><span>Configuration</span></span></div><iframe id=\\\"app\\\"\" + (jade.attr(\"src\", \"\" + (url) + \"\", true, false)) + \"></iframe></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}"]}